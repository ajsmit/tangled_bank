<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Smit, A. J.">
<title>BCB744 Intro R Example 2 – The Tangled Bank</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon.ico" rel="icon">
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-597958c53c93a607afca12fd375c57ed.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-37d9842ca13b32c9c58adfc4ed5d9451.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SCYH68M489"></script><script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-SCYH68M489', { 'anonymize_ip': true});
</script><script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"headline",
  "consent_type":"express",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script><style>html{ scroll-behavior: smooth; }</style>
<script async="" src="https://hypothes.is/embed.js"></script><script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script><link rel="stylesheet" href="../../styles/styles.css">
<meta property="og:title" content="BCB744 Intro R Example 2 – The Tangled Bank">
<meta property="og:description" content="UWC’s Biodiversity &amp; Conservation Biology Department Pages For BDC223, BDC334, BCB743, and BCB744.">
<meta property="og:image" content="http://tangledbank.netlify.app/BCB744/assessments/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==">
<meta property="og:site_name" content="The Tangled Bank">
</head>
<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">The Tangled Bank</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-vignettes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Vignettes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-vignettes">
<li>
    <a class="dropdown-item" href="../../vignettes/netCDF_dates.html">
 <span class="dropdown-text">Dates From netCDF Files: Two Approaches</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/prep_NOAA_OISST.html">
 <span class="dropdown-text">Downloading and Prep: ERDDAP</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/chl_ERDDAP.html">
 <span class="dropdown-text">Retrieving Chlorophyll-a Data from ERDDAP Servers</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/alt_method.html">
 <span class="dropdown-text">Downloading and Prep: Python + CDO</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/gridded_data.html">
 <span class="dropdown-text">Detecting Events in Gridded Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/regridding.html">
 <span class="dropdown-text">Regridding gridded data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/MHW_MCS_horizonplots.html">
 <span class="dropdown-text">Displaying MHWs and MCSs as Horizon Plots</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/heatwaveR_issues.html">
 <span class="dropdown-text">heatwaveR Issues</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/chl_sightings.html">
 <span class="dropdown-text">Plotting the Whale Sightings and Chlorophyll-<em>a</em> Concentrations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/chl_localisation.html">
 <span class="dropdown-text">Spatial Localisation, Subsetting, and Aggregation of the Chlorophyll-<em>a</em> Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/elem_ts_methods.html">
 <span class="dropdown-text">Wavelet Analysis of Diatom Time Series</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/buffer_data_extract.html">
 <span class="dropdown-text">Extracting gridded data within a buffer</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-high-performance-computing" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">High-Performance Computing</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-high-performance-computing">
<li>
    <a class="dropdown-item" href="../../vignettes/README_Lengau.html">
 <span class="dropdown-text">Using Lengau</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/PBSPro_users.html">
 <span class="dropdown-text">PBSPro user and job management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/README_tmux.html">
 <span class="dropdown-text">Using tmux</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Tangled Bank Blog</span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-blogroll" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Blogroll</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-blogroll">
<li>
    <a class="dropdown-item" href="https://www.r-bloggers.com">
 <span class="dropdown-text">R-bloggers</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">
<li>
    <a class="dropdown-item" href="https://github.com/ajsmit/tangled_bank">
 <span class="dropdown-text">Source Code</span></a>
  </li>  
    </ul>
</li>
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#question-1" id="toc-question-1" class="nav-link active" data-scroll-target="#question-1"><span class="header-section-number">1</span> Question 1</a></li>
  <li>
<a href="#question-2" id="toc-question-2" class="nav-link" data-scroll-target="#question-2"><span class="header-section-number">2</span> Question 2</a>
  <ul class="collapse">
<li><a href="#a" id="toc-a" class="nav-link" data-scroll-target="#a"><span class="header-section-number">2.1</span> 2.a</a></li>
  <li><a href="#b" id="toc-b" class="nav-link" data-scroll-target="#b"><span class="header-section-number">2.2</span> 2.b</a></li>
  <li><a href="#c" id="toc-c" class="nav-link" data-scroll-target="#c"><span class="header-section-number">2.3</span> 2.c</a></li>
  <li><a href="#d" id="toc-d" class="nav-link" data-scroll-target="#d"><span class="header-section-number">2.4</span> 2.d</a></li>
  <li><a href="#e" id="toc-e" class="nav-link" data-scroll-target="#e"><span class="header-section-number">2.5</span> 2.e</a></li>
  <li><a href="#f" id="toc-f" class="nav-link" data-scroll-target="#f"><span class="header-section-number">2.6</span> 2.f</a></li>
  <li><a href="#g" id="toc-g" class="nav-link" data-scroll-target="#g"><span class="header-section-number">2.7</span> 2.g</a></li>
  </ul>
</li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/ajsmit/tangled_bank/edit/main/BCB744/assessments/BCB744_Intro_R_Example_2.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ajsmit/tangled_bank/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">BCB744 Intro R Example 2</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://tangledbank.netlify.app">Smit, A. J.</a> <a href="https://orcid.org/0000-0002-3799-6126" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://uwc.ac.za">
            University of the Western Cape
            </a>
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header><p>Below is an example of a test or exam question similar to those you may encounter in the BCB744 Intro R course.</p>
<p>This is a practice exercise. While I will not assess your script, I will provide a rubric to guide your self-evaluation. You are expected to complete the task within the allocated time and submit your script to iKamva by the deadline. This allows me to track participation, and I have reason to believe that engagement with these practice tasks correlates with improved performance in the final exam—a hypothesis supported by prior observations.</p>
<p>For your own benefit, I strongly encourage you to work independently. Doing so will ensure that you develop the problem-solving skills necessary for success in the final assessment.</p>
<p><span class="my-highlight"><strong>Due date:</strong> Thursday, 13 March 2025, 17:00.</span></p>
<section id="question-1" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> Question 1</h1>
<p><strong>The <code><a href="https://rdrr.io/r/datasets/UKDriverDeaths.html">datasets::UKDriverDeaths</a></code> and <code><a href="https://rdrr.io/r/datasets/UKDriverDeaths.html">datasets::Seatbelts</a></code> datasets</strong></p>
<p>These datasets are meant to be used together—<code>UKDriverDeaths</code> has the same data as is provided in the variable <code>drivers</code> in <code>seatbelts</code>, but it also provides information about the temporal structure of the <code>Seatbelts</code> dataset. You will have to devise a way to use this temporal information in your analysis.</p>
<ul>
<li>Produce a dataframe that combines the temporal information provided in <code>UKDriverDeaths</code> with the other information in <code>Seatbelts</code>.</li>
<li>Produce a faceted graph (using <code>facet_wrap()</code>, placing <code>drivers</code>, <code>front</code>, <code>rear</code>, and <code>VanKilled</code> in facets) showing a timeline of monthly means of deaths (means taken across years) whilst distinguishing between the two levels of <code>law</code>.</li>
<li>What do you conclude from your analysis?</li>
</ul></section><section id="question-2" class="level1" data-number="2"><h1 data-number="2">
<span class="header-section-number">2</span> Question 2</h1>
<p>Please use the <strong>nycflights13</strong> package for this exercise.</p>
<section id="a" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="a">
<span class="header-section-number">2.1</span> 2.a</h2>
<p>What are the 10 most common destinations for flights from NYC airports in 2013, and what is the total distance travelled to each of these airports? Make a 2-panel figure and display these data graphically.</p>
</section><section id="b" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="b">
<span class="header-section-number">2.2</span> 2.b</h2>
<p>Which airlines have the most flights departing from NYC airports in 2013? Make a table that lists these in descending order of frequency and shows the number of flights for each airline. In your table, list the names of the airlines as well. <em>Hint:</em> you can use the <code>airlines</code> dataset to look up the airline name based on <code>carrier</code> code.</p>
</section><section id="c" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="c">
<span class="header-section-number">2.3</span> 2.c</h2>
<p>Consider only flights that have non-missing arrival delay information. Your answer should include the name of the carrier in addition to the carrier code and the values asked.</p>
<ol type="i">
<li><p>Which carrier had the highest mean arrival delay?</p></li>
<li><p>Which carrier had the lowest mean arrival delay?</p></li>
</ol>
<p>Make sure that your answer includes the name of the carrier and the calculated mean (±SD) delay times, and use a sensible number of decimal digits.</p>
</section><section id="d" class="level2" data-number="2.4"><h2 data-number="2.4" class="anchored" data-anchor-id="d">
<span class="header-section-number">2.4</span> 2.d</h2>
<p>What were the mean values for the weather variables at the origin airport on the top 10 days with the highest departure delays? Contrast this with a similar view on the 10 days with the lowest departure delays. Your table(s) should include the names of origin airports, the dates with the highest (lowest) departure delays, and the mean (±SD) weather variables on these days.</p>
<p>Can you make any inferences about the effect of weather conditions on flight delays? Are there any problems with this analysis, and how might you improve this analysis for a clearer view of the effect of weather conditions on the ability of flights to depart on time?</p>
</section><section id="e" class="level2" data-number="2.5"><h2 data-number="2.5" class="anchored" data-anchor-id="e">
<span class="header-section-number">2.5</span> 2.e</h2>
<p>Partition each day into four equal time intervals, e.g.&nbsp;00:01-06:00, 06:01-12:00, 12:01-18:00, and 18:01-00:00.</p>
<ol type="i">
<li>At each time interval, what is the proportion of flights delayed at departure? Illustrate your finding in a figure.</li>
</ol>
<ol start="2" type="i">
<li>Based on your analysis, does the chance of being delayed change throughout the day?</li>
</ol>
<p>See answer to Question 2.e.i.</p>
<ol start="3" type="i">
<li>For each weekday (1-7) aggregated over 2013, which of the time intervals has the most flights? Create a figure to show your finding.</li>
</ol></section><section id="f" class="level2" data-number="2.6"><h2 data-number="2.6" class="anchored" data-anchor-id="f">
<span class="header-section-number">2.6</span> 2.f</h2>
<p>Find the 10 planes that spend the longest time (cumulatively) in the air.</p>
<ol type="i">
<li>For each model, what are the cumulative and mean flight times? In this table, also mention their type, manufacturer, model, number of engines, and speed.</li>
</ol>
<ol start="2" type="i">
<li>Create a table that lists, for each air-plane identified in (i.), each flight (and associated destination) that it undertook during 2013.</li>
</ol>
<ol start="3" type="i">
<li>Summarise all the in formation in (ii.) on a map of the USA. Use lines to connect departure and destination locations (each labelled). Different facets in the figure must be used for each of the 10 planes. You can use the <code>alpha</code> value in <strong>ggplot2</strong> such that the colour intensity of overlapping flight lines is proportional to the number of flights taken along the path. For bonus marks, ensure that the curvature of Earth is indicated in the flight lines. <em>Hint:</em> such lines would display as curves, not straight lines.</li>
</ol></section><section id="g" class="level2" data-number="2.7"><h2 data-number="2.7" class="anchored" data-anchor-id="g">
<span class="header-section-number">2.7</span> 2.g</h2>
<p>Limit this analysis to only the coldest three winter and warmest three summer months (show evidence for how this is decided). For each of these two seasons, create a visualisation to explore if there is a relationship between the mean daily departure delay and the mean daily temperature. Be as economical with your code as possible.</p>
<p>Discuss your answer.</p>


<!-- -->

</section></section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{smit,_a._j.,
  author = {Smit, A. J.,},
  title = {BCB744 {Intro} {R} {Example} 2},
  url = {http://tangledbank.netlify.app/BCB744/assessments/BCB744_Intro_R_Example_2.html},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-smit,_a._j." class="csl-entry quarto-appendix-citeas" role="listitem">
Smit, A. J. BCB744 Intro R Example 2. <a href="http://tangledbank.netlify.app/BCB744/assessments/BCB744_Intro_R_Example_2.html">http://tangledbank.netlify.app/BCB744/assessments/BCB744_Intro_R_Example_2.html.
</a>
</div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("http:\/\/tangledbank\.netlify\.app");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="an">title:</span><span class="co"> "BCB744 Intro R Example 2"</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="an">params:</span><span class="co"> </span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">  hide_answers: true</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">---</span></span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a>Below is an example of a test or exam question similar to those you may encounter in the BCB744 Intro R course.</span>
<span id="cb1-9"><a href="#cb1-9"></a></span>
<span id="cb1-10"><a href="#cb1-10"></a>This is a practice exercise. While I will not assess your script, I will provide a rubric to guide your self-evaluation. You are expected to complete the task within the allocated time and submit your script to iKamva by the deadline. This allows me to track participation, and I have reason to believe that engagement with these practice tasks correlates with improved performance in the final exam—a hypothesis supported by prior observations.</span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a>For your own benefit, I strongly encourage you to work independently. Doing so will ensure that you develop the problem-solving skills necessary for success in the final assessment.</span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co">[</span><span class="ot">**Due date:** Thursday, 13 March 2025, 17:00.</span><span class="co">]</span>{.my-highlight}</span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="fu"># Question 1</span></span>
<span id="cb1-18"><a href="#cb1-18"></a></span>
<span id="cb1-19"><a href="#cb1-19"></a>**The `datasets::UKDriverDeaths` and `datasets::Seatbelts` datasets**</span>
<span id="cb1-20"><a href="#cb1-20"></a></span>
<span id="cb1-21"><a href="#cb1-21"></a>These datasets are meant to be used together---<span class="in">`UKDriverDeaths`</span> has the same data as is provided in the variable <span class="in">`drivers`</span> in <span class="in">`seatbelts`</span>, but it also provides information about the temporal structure of the <span class="in">`Seatbelts`</span> dataset. You will have to devise a way to use this temporal information in your analysis.</span>
<span id="cb1-22"><a href="#cb1-22"></a></span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="ss">* </span>Produce a dataframe that combines the temporal information provided in <span class="in">`UKDriverDeaths`</span> with the other information in <span class="in">`Seatbelts`</span>.</span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="ss">* </span>Produce a faceted graph (using <span class="in">`facet_wrap()`</span>, placing <span class="in">`drivers`</span>, <span class="in">`front`</span>, <span class="in">`rear`</span>, and <span class="in">`VanKilled`</span> in facets) showing a timeline of monthly means of deaths (means taken across years) whilst distinguishing between the two levels of <span class="in">`law`</span>.</span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="ss">* </span>What do you conclude from your analysis?</span>
<span id="cb1-26"><a href="#cb1-26"></a></span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-28"><a href="#cb1-28"></a></span>
<span id="cb1-29"><a href="#cb1-29"></a>**Answer**</span>
<span id="cb1-30"><a href="#cb1-30"></a></span>
<span id="cb1-33"><a href="#cb1-33"></a><span class="in">```{r}</span></span>
<span id="cb1-34"><a href="#cb1-34"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-35"><a href="#cb1-35"></a></span>
<span id="cb1-36"><a href="#cb1-36"></a>deaths <span class="ot">&lt;-</span> datasets<span class="sc">::</span>UKDriverDeaths</span>
<span id="cb1-37"><a href="#cb1-37"></a>seatbelts <span class="ot">&lt;-</span> datasets<span class="sc">::</span>Seatbelts</span>
<span id="cb1-38"><a href="#cb1-38"></a></span>
<span id="cb1-39"><a href="#cb1-39"></a><span class="co"># checking the data (not necessary)</span></span>
<span id="cb1-40"><a href="#cb1-40"></a><span class="fu">plot</span>(deaths)</span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="fu">plot</span>(seatbelts)</span>
<span id="cb1-42"><a href="#cb1-42"></a></span>
<span id="cb1-43"><a href="#cb1-43"></a><span class="co"># make the combined dataframe</span></span>
<span id="cb1-44"><a href="#cb1-44"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">date =</span> <span class="fu">seq.Date</span>(<span class="fu">as.Date</span>(<span class="st">"1969-01-01"</span>), <span class="fu">as.Date</span>(<span class="st">"1984-12-01"</span>), <span class="at">by =</span> <span class="st">"month"</span>),</span>
<span id="cb1-45"><a href="#cb1-45"></a>                 <span class="fu">as.matrix</span>(seatbelts))</span>
<span id="cb1-46"><a href="#cb1-46"></a></span>
<span id="cb1-47"><a href="#cb1-47"></a><span class="co"># make long dataframe</span></span>
<span id="cb1-48"><a href="#cb1-48"></a>df <span class="sc">|&gt;</span></span>
<span id="cb1-49"><a href="#cb1-49"></a>  <span class="fu">select</span>(<span class="sc">-</span>DriversKilled, <span class="sc">-</span>kms, <span class="sc">-</span>PetrolPrice) <span class="sc">|&gt;</span></span>
<span id="cb1-50"><a href="#cb1-50"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(drivers, front, rear, VanKilled),</span>
<span id="cb1-51"><a href="#cb1-51"></a>               <span class="at">names_to =</span> <span class="st">"type"</span>,</span>
<span id="cb1-52"><a href="#cb1-52"></a>               <span class="at">values_to =</span> <span class="st">"killed"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-53"><a href="#cb1-53"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(date)) <span class="sc">|&gt;</span></span>
<span id="cb1-54"><a href="#cb1-54"></a>  <span class="fu">group_by</span>(year, type, law) <span class="sc">|&gt;</span></span>
<span id="cb1-55"><a href="#cb1-55"></a>  <span class="fu">summarise</span>(<span class="at">mean_killed =</span> <span class="fu">round</span>(<span class="fu">mean</span>(killed), <span class="dv">2</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-56"><a href="#cb1-56"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> mean_killed)) <span class="sc">+</span></span>
<span id="cb1-57"><a href="#cb1-57"></a>    <span class="fu">geom_line</span>(<span class="at">colour =</span> <span class="st">"grey70"</span>) <span class="sc">+</span></span>
<span id="cb1-58"><a href="#cb1-58"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> <span class="fu">as.factor</span>(law)), <span class="at">size =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb1-59"><a href="#cb1-59"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>type, <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb1-60"><a href="#cb1-60"></a>    <span class="fu">guides</span>(<span class="at">colour =</span> <span class="fu">guide_legend</span>(<span class="st">"Law"</span>)) <span class="sc">+</span></span>
<span id="cb1-61"><a href="#cb1-61"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-62"><a href="#cb1-62"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Mean deaths (count)"</span>,</span>
<span id="cb1-63"><a href="#cb1-63"></a>         <span class="at">title =</span> <span class="st">"UK Car Driver and Passenger Deaths"</span>,</span>
<span id="cb1-64"><a href="#cb1-64"></a>         <span class="at">subtitle =</span> <span class="st">"Jan 1969 to Dec 1984"</span>)</span>
<span id="cb1-65"><a href="#cb1-65"></a><span class="in">```</span></span>
<span id="cb1-66"><a href="#cb1-66"></a></span>
<span id="cb1-67"><a href="#cb1-67"></a>The data indicate that mandatory the seatbelt law, introduced on January 31, 1983, appears to have reduced the number of deaths resulting from car crashes for drivers and front passengers of passenger cars, and for the drivers of vans. However, there was no apparent reduction in deaths for rear passengers, likely because the law requiring them to wear seatbelts did not come into effect until 1991.</span>
<span id="cb1-68"><a href="#cb1-68"></a></span>
<span id="cb1-69"><a href="#cb1-69"></a>It should be noted, however, that the interpretation of these results is not entirely clear. From 1969 to December 1982, there was a consistent reduction in deaths, which may have been due to other advancements in car safety features and road safety legislation. Additionally, only two data points are available following the introduction of mandatory seatbelt laws in 1983, and more data are needed to determine whether this reduction was statistically significant. Nevertheless, it is worth noting that the reduction did prove to be statistically significant.</span>
<span id="cb1-70"><a href="#cb1-70"></a></span>
<span id="cb1-71"><a href="#cb1-71"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
<span id="cb1-72"><a href="#cb1-72"></a></span>
<span id="cb1-73"><a href="#cb1-73"></a><span class="fu"># Question 2</span></span>
<span id="cb1-74"><a href="#cb1-74"></a></span>
<span id="cb1-75"><a href="#cb1-75"></a>Please use the **nycflights13** package for this exercise.</span>
<span id="cb1-76"><a href="#cb1-76"></a></span>
<span id="cb1-77"><a href="#cb1-77"></a><span class="fu">## 2.a</span></span>
<span id="cb1-78"><a href="#cb1-78"></a>What are the 10 most common destinations for flights from NYC airports</span>
<span id="cb1-79"><a href="#cb1-79"></a>in 2013, and what is the total distance travelled to each of these</span>
<span id="cb1-80"><a href="#cb1-80"></a>airports? Make a 2-panel figure and display these data graphically.</span>
<span id="cb1-81"><a href="#cb1-81"></a></span>
<span id="cb1-82"><a href="#cb1-82"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-83"><a href="#cb1-83"></a></span>
<span id="cb1-84"><a href="#cb1-84"></a>**Answer**</span>
<span id="cb1-85"><a href="#cb1-85"></a></span>
<span id="cb1-88"><a href="#cb1-88"></a><span class="in">```{r}</span></span>
<span id="cb1-89"><a href="#cb1-89"></a><span class="co">#| echo: true</span></span>
<span id="cb1-90"><a href="#cb1-90"></a><span class="co">#| eval: true</span></span>
<span id="cb1-91"><a href="#cb1-91"></a><span class="co">#| fig-cap: "The figure for Question 2."</span></span>
<span id="cb1-92"><a href="#cb1-92"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb1-93"><a href="#cb1-93"></a><span class="fu">library</span>(nycflights13)</span>
<span id="cb1-94"><a href="#cb1-94"></a></span>
<span id="cb1-95"><a href="#cb1-95"></a>tab1 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span></span>
<span id="cb1-96"><a href="#cb1-96"></a>  <span class="fu">group_by</span>(dest) <span class="sc">%&gt;%</span>  </span>
<span id="cb1-97"><a href="#cb1-97"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb1-98"><a href="#cb1-98"></a>            <span class="at">total_distance =</span> <span class="fu">sum</span>(distance)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-99"><a href="#cb1-99"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb1-100"><a href="#cb1-100"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb1-101"><a href="#cb1-101"></a></span>
<span id="cb1-102"><a href="#cb1-102"></a>plt1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(tab1) <span class="sc">+</span></span>
<span id="cb1-103"><a href="#cb1-103"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> dest, <span class="at">y =</span> n), <span class="at">fill =</span> <span class="st">"grey90"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>,</span>
<span id="cb1-104"><a href="#cb1-104"></a>           <span class="at">colour =</span> <span class="st">"indianred"</span>) <span class="sc">+</span></span>
<span id="cb1-105"><a href="#cb1-105"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-106"><a href="#cb1-106"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Airport code"</span>,</span>
<span id="cb1-107"><a href="#cb1-107"></a>       <span class="at">y =</span> <span class="st">"Number of</span><span class="sc">\n</span><span class="st">destimations"</span>)</span>
<span id="cb1-108"><a href="#cb1-108"></a>plt2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(tab1) <span class="sc">+</span></span>
<span id="cb1-109"><a href="#cb1-109"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> dest, <span class="at">y =</span> total_distance <span class="sc">*</span> <span class="fl">0.621371</span>), <span class="co"># convert to km</span></span>
<span id="cb1-110"><a href="#cb1-110"></a>           <span class="at">fill =</span> <span class="st">"grey90"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">colour =</span> <span class="st">"indianred"</span>) <span class="sc">+</span></span>
<span id="cb1-111"><a href="#cb1-111"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-112"><a href="#cb1-112"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Airport code"</span>,</span>
<span id="cb1-113"><a href="#cb1-113"></a>       <span class="at">y =</span> <span class="st">"Total</span><span class="sc">\n</span><span class="st">distance (km)"</span>)</span>
<span id="cb1-114"><a href="#cb1-114"></a><span class="fu">ggarrange</span>(plt1, plt2, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">labels =</span> <span class="st">"AUTO"</span>)</span>
<span id="cb1-115"><a href="#cb1-115"></a><span class="in">```</span></span>
<span id="cb1-116"><a href="#cb1-116"></a></span>
<span id="cb1-117"><a href="#cb1-117"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
<span id="cb1-118"><a href="#cb1-118"></a></span>
<span id="cb1-119"><a href="#cb1-119"></a><span class="fu">## 2.b</span></span>
<span id="cb1-120"><a href="#cb1-120"></a>Which airlines have the most flights departing from NYC airports in</span>
<span id="cb1-121"><a href="#cb1-121"></a>2013? Make a table that lists these in descending order of frequency and</span>
<span id="cb1-122"><a href="#cb1-122"></a>shows the number of flights for each airline. In your table, list the</span>
<span id="cb1-123"><a href="#cb1-123"></a>names of the airlines as well. *Hint:* you can use the <span class="in">`airlines`</span></span>
<span id="cb1-124"><a href="#cb1-124"></a>dataset to look up the airline name based on <span class="in">`carrier`</span> code.</span>
<span id="cb1-125"><a href="#cb1-125"></a></span>
<span id="cb1-126"><a href="#cb1-126"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-127"><a href="#cb1-127"></a></span>
<span id="cb1-128"><a href="#cb1-128"></a>**Answer**</span>
<span id="cb1-129"><a href="#cb1-129"></a></span>
<span id="cb1-132"><a href="#cb1-132"></a><span class="in">```{r}</span></span>
<span id="cb1-133"><a href="#cb1-133"></a><span class="co">#| echo: true</span></span>
<span id="cb1-134"><a href="#cb1-134"></a><span class="co">#| eval: true</span></span>
<span id="cb1-135"><a href="#cb1-135"></a>popular_destinations <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span></span>
<span id="cb1-136"><a href="#cb1-136"></a>  <span class="fu">count</span>(carrier) <span class="sc">%&gt;%</span></span>
<span id="cb1-137"><a href="#cb1-137"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb1-138"><a href="#cb1-138"></a>  <span class="fu">inner_join</span>(airlines, <span class="at">by =</span> <span class="st">"carrier"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-139"><a href="#cb1-139"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb1-140"><a href="#cb1-140"></a><span class="fu">head</span>(popular_destinations, <span class="at">n =</span> <span class="dv">16</span>)</span>
<span id="cb1-141"><a href="#cb1-141"></a><span class="in">```</span></span>
<span id="cb1-142"><a href="#cb1-142"></a></span>
<span id="cb1-143"><a href="#cb1-143"></a>The carrier with the highest number of flights departing from NYC airports in 2013 is United Airlines, followed by JetBlue Airways and ExpressJet Airlines.</span>
<span id="cb1-144"><a href="#cb1-144"></a></span>
<span id="cb1-145"><a href="#cb1-145"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
<span id="cb1-146"><a href="#cb1-146"></a></span>
<span id="cb1-147"><a href="#cb1-147"></a><span class="fu">## 2.c</span></span>
<span id="cb1-148"><a href="#cb1-148"></a></span>
<span id="cb1-149"><a href="#cb1-149"></a>Consider only flights that have non-missing arrival delay information.</span>
<span id="cb1-150"><a href="#cb1-150"></a>Your answer should include the name of the carrier in addition to the</span>
<span id="cb1-151"><a href="#cb1-151"></a>carrier code and the values asked.</span>
<span id="cb1-152"><a href="#cb1-152"></a></span>
<span id="cb1-153"><a href="#cb1-153"></a>i.  Which carrier had the highest mean arrival delay?</span>
<span id="cb1-154"><a href="#cb1-154"></a></span>
<span id="cb1-155"><a href="#cb1-155"></a>ii.  Which carrier had the lowest mean arrival delay?</span>
<span id="cb1-156"><a href="#cb1-156"></a></span>
<span id="cb1-157"><a href="#cb1-157"></a>Make sure that your answer includes the name of the carrier and the</span>
<span id="cb1-158"><a href="#cb1-158"></a>calculated mean (±SD) delay times, and use a sensible number of decimal</span>
<span id="cb1-159"><a href="#cb1-159"></a>digits.</span>
<span id="cb1-160"><a href="#cb1-160"></a></span>
<span id="cb1-161"><a href="#cb1-161"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-162"><a href="#cb1-162"></a></span>
<span id="cb1-163"><a href="#cb1-163"></a>**Answer**</span>
<span id="cb1-164"><a href="#cb1-164"></a></span>
<span id="cb1-167"><a href="#cb1-167"></a><span class="in">```{r}</span></span>
<span id="cb1-168"><a href="#cb1-168"></a><span class="co">#| echo: true</span></span>
<span id="cb1-169"><a href="#cb1-169"></a><span class="co">#| eval: true</span></span>
<span id="cb1-170"><a href="#cb1-170"></a>flights <span class="sc">%&gt;%</span></span>
<span id="cb1-171"><a href="#cb1-171"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(arr_delay)) <span class="sc">%&gt;%</span></span>
<span id="cb1-172"><a href="#cb1-172"></a>  <span class="fu">group_by</span>(carrier) <span class="sc">%&gt;%</span></span>
<span id="cb1-173"><a href="#cb1-173"></a>  <span class="fu">summarise</span>(<span class="at">mean_arr_delay =</span> <span class="fu">round</span>(<span class="fu">mean</span>(arr_delay), <span class="dv">1</span>),</span>
<span id="cb1-174"><a href="#cb1-174"></a>            <span class="at">sd_arr_delay =</span> <span class="fu">round</span>(<span class="fu">sd</span>(arr_delay), <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-175"><a href="#cb1-175"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean_arr_delay)) <span class="sc">%&gt;%</span></span>
<span id="cb1-176"><a href="#cb1-176"></a>  <span class="fu">inner_join</span>(airlines, <span class="at">by =</span> <span class="st">"carrier"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-177"><a href="#cb1-177"></a>  <span class="fu">slice</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="fu">n</span>())) <span class="sc">%&gt;%</span> </span>
<span id="cb1-178"><a href="#cb1-178"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb1-179"><a href="#cb1-179"></a><span class="in">```</span></span>
<span id="cb1-180"><a href="#cb1-180"></a></span>
<span id="cb1-181"><a href="#cb1-181"></a>The longest arrival delay was on Frontier Airlines that, on average, arrived 21.9 ± 61.5 (mean ± SD) minutes late. On the contrary, Alaska Airlines typically arrived earlier than anticipated by 9.9 ± 36.5 (mean ± SD) minutes.</span>
<span id="cb1-182"><a href="#cb1-182"></a></span>
<span id="cb1-183"><a href="#cb1-183"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
<span id="cb1-184"><a href="#cb1-184"></a></span>
<span id="cb1-185"><a href="#cb1-185"></a><span class="fu">## 2.d</span></span>
<span id="cb1-186"><a href="#cb1-186"></a></span>
<span id="cb1-187"><a href="#cb1-187"></a>What were the mean values for the weather variables at the origin</span>
<span id="cb1-188"><a href="#cb1-188"></a>airport on the top 10 days with the highest departure delays? Contrast</span>
<span id="cb1-189"><a href="#cb1-189"></a>this with a similar view on the 10 days with the lowest departure</span>
<span id="cb1-190"><a href="#cb1-190"></a>delays. Your table(s) should include the names of origin airports, the</span>
<span id="cb1-191"><a href="#cb1-191"></a>dates with the highest (lowest) departure delays, and the mean (±SD)</span>
<span id="cb1-192"><a href="#cb1-192"></a>weather variables on these days.</span>
<span id="cb1-193"><a href="#cb1-193"></a></span>
<span id="cb1-194"><a href="#cb1-194"></a>Can you make any inferences about the effect of weather conditions on</span>
<span id="cb1-195"><a href="#cb1-195"></a>flight delays? Are there any problems with this analysis, and how might</span>
<span id="cb1-196"><a href="#cb1-196"></a>you improve this analysis for a clearer view of the effect of weather</span>
<span id="cb1-197"><a href="#cb1-197"></a>conditions on the ability of flights to depart on time?</span>
<span id="cb1-198"><a href="#cb1-198"></a></span>
<span id="cb1-199"><a href="#cb1-199"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-200"><a href="#cb1-200"></a></span>
<span id="cb1-201"><a href="#cb1-201"></a>**Answer**</span>
<span id="cb1-202"><a href="#cb1-202"></a></span>
<span id="cb1-205"><a href="#cb1-205"></a><span class="in">```{r}</span></span>
<span id="cb1-206"><a href="#cb1-206"></a><span class="co">#| echo: true</span></span>
<span id="cb1-207"><a href="#cb1-207"></a><span class="co">#| eval: true</span></span>
<span id="cb1-208"><a href="#cb1-208"></a><span class="co">#| warning: false</span></span>
<span id="cb1-209"><a href="#cb1-209"></a>top_delay <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb1-210"><a href="#cb1-210"></a>    flights <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(<span class="at">order_by =</span> dep_delay, <span class="at">n =</span> <span class="dv">10</span>),</span>
<span id="cb1-211"><a href="#cb1-211"></a>    flights <span class="sc">%&gt;%</span> <span class="fu">slice_min</span>(<span class="at">order_by =</span> dep_delay, <span class="at">n =</span> <span class="dv">10</span>),</span>
<span id="cb1-212"><a href="#cb1-212"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-213"><a href="#cb1-213"></a>  <span class="fu">select</span>(carrier, flight, tailnum, dep_delay, month, day, origin) <span class="sc">%&gt;%</span></span>
<span id="cb1-214"><a href="#cb1-214"></a>  <span class="fu">inner_join</span>(weather, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"origin"</span>, <span class="st">"month"</span>, <span class="st">"day"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-215"><a href="#cb1-215"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> temp<span class="sc">:</span>visib,</span>
<span id="cb1-216"><a href="#cb1-216"></a>               <span class="at">names_to =</span> <span class="st">"weather_var"</span>,</span>
<span id="cb1-217"><a href="#cb1-217"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-218"><a href="#cb1-218"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb1-219"><a href="#cb1-219"></a>  <span class="fu">group_by</span>(carrier, flight, tailnum, dep_delay, weather_var) <span class="sc">%&gt;%</span> </span>
<span id="cb1-220"><a href="#cb1-220"></a>  <span class="fu">summarise</span>(<span class="at">mean_weather_var =</span> <span class="fu">round</span>(<span class="fu">mean</span>(value, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), ),</span>
<span id="cb1-221"><a href="#cb1-221"></a>            <span class="at">sd_weather_var =</span> <span class="fu">round</span>(<span class="fu">sd</span>(value, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-222"><a href="#cb1-222"></a>  <span class="fu">unite</span>(<span class="st">"mean_sd"</span>, mean_weather_var<span class="sc">:</span>sd_weather_var, <span class="at">sep =</span> <span class="st">" ± "</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-223"><a href="#cb1-223"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(dep_delay)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-224"><a href="#cb1-224"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> weather_var, <span class="at">values_from =</span> mean_sd) <span class="sc">%&gt;%</span> </span>
<span id="cb1-225"><a href="#cb1-225"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb1-226"><a href="#cb1-226"></a>top_delay</span>
<span id="cb1-227"><a href="#cb1-227"></a><span class="in">```</span></span>
<span id="cb1-228"><a href="#cb1-228"></a></span>
<span id="cb1-229"><a href="#cb1-229"></a>Nothing obvious I can see about the effect of weather variables in affecting the departure delay. We would need to do some multivariate stats to assess.</span>
<span id="cb1-230"><a href="#cb1-230"></a></span>
<span id="cb1-231"><a href="#cb1-231"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
<span id="cb1-232"><a href="#cb1-232"></a></span>
<span id="cb1-233"><a href="#cb1-233"></a><span class="fu">## 2.e</span></span>
<span id="cb1-234"><a href="#cb1-234"></a></span>
<span id="cb1-235"><a href="#cb1-235"></a>Partition each day into four equal time intervals, e.g. 00:01-06:00,</span>
<span id="cb1-236"><a href="#cb1-236"></a>06:01-12:00, 12:01-18:00, and 18:01-00:00.</span>
<span id="cb1-237"><a href="#cb1-237"></a></span>
<span id="cb1-238"><a href="#cb1-238"></a>i.  At each time interval, what is the proportion of flights delayed at</span>
<span id="cb1-239"><a href="#cb1-239"></a>    departure? Illustrate your finding in a figure.</span>
<span id="cb1-240"><a href="#cb1-240"></a></span>
<span id="cb1-241"><a href="#cb1-241"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-242"><a href="#cb1-242"></a></span>
<span id="cb1-243"><a href="#cb1-243"></a>**Answer**</span>
<span id="cb1-244"><a href="#cb1-244"></a></span>
<span id="cb1-247"><a href="#cb1-247"></a><span class="in">```{r}</span></span>
<span id="cb1-248"><a href="#cb1-248"></a><span class="co">#| echo: true</span></span>
<span id="cb1-249"><a href="#cb1-249"></a><span class="co">#| eval: true</span></span>
<span id="cb1-250"><a href="#cb1-250"></a><span class="co"># Create time of day variable</span></span>
<span id="cb1-251"><a href="#cb1-251"></a>flights_tod <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span></span>
<span id="cb1-252"><a href="#cb1-252"></a>  <span class="fu">mutate</span>(<span class="at">time_of_day =</span> <span class="fu">case_when</span>(</span>
<span id="cb1-253"><a href="#cb1-253"></a>    sched_dep_time <span class="sc">&gt;=</span> <span class="dv">001</span>  <span class="sc">&amp;</span> sched_dep_time <span class="sc">&lt;=</span> <span class="dv">600</span>  <span class="sc">~</span> <span class="st">"00:01-06:00"</span>,</span>
<span id="cb1-254"><a href="#cb1-254"></a>    sched_dep_time <span class="sc">&gt;=</span> <span class="dv">601</span>  <span class="sc">&amp;</span> sched_dep_time <span class="sc">&lt;=</span> <span class="dv">1200</span> <span class="sc">~</span> <span class="st">"06:01-12:00"</span>,</span>
<span id="cb1-255"><a href="#cb1-255"></a>    sched_dep_time <span class="sc">&gt;=</span> <span class="dv">1201</span> <span class="sc">&amp;</span> sched_dep_time <span class="sc">&lt;=</span> <span class="dv">1800</span> <span class="sc">~</span> <span class="st">"12:01-18:00"</span>,</span>
<span id="cb1-256"><a href="#cb1-256"></a>    sched_dep_time <span class="sc">&gt;=</span> <span class="dv">1801</span>                          <span class="sc">~</span> <span class="st">"18:01-00:00"</span></span>
<span id="cb1-257"><a href="#cb1-257"></a>  )) <span class="sc">%&gt;%</span> </span>
<span id="cb1-258"><a href="#cb1-258"></a>  <span class="fu">mutate</span>(<span class="at">day_of_week =</span> <span class="fu">wday</span>(time_hour))</span>
<span id="cb1-259"><a href="#cb1-259"></a></span>
<span id="cb1-260"><a href="#cb1-260"></a><span class="co"># Find proportion of delayed flights for each time of day</span></span>
<span id="cb1-261"><a href="#cb1-261"></a>delay_time <span class="ot">&lt;-</span> flights_tod <span class="sc">%&gt;%</span></span>
<span id="cb1-262"><a href="#cb1-262"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(dep_delay)) <span class="sc">%&gt;%</span></span>
<span id="cb1-263"><a href="#cb1-263"></a>  <span class="fu">mutate</span>(<span class="at">dep_delayed =</span> <span class="fu">ifelse</span>(dep_delay <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">"delayed"</span>, <span class="st">"ontime"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-264"><a href="#cb1-264"></a>  <span class="fu">count</span>(time_of_day, dep_delayed) <span class="sc">%&gt;%</span></span>
<span id="cb1-265"><a href="#cb1-265"></a>  <span class="fu">group_by</span>(time_of_day) <span class="sc">%&gt;%</span></span>
<span id="cb1-266"><a href="#cb1-266"></a>  <span class="fu">mutate</span>(<span class="at">prop_delayed =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb1-267"><a href="#cb1-267"></a>  <span class="fu">filter</span>(dep_delayed <span class="sc">==</span> <span class="st">"delayed"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-268"><a href="#cb1-268"></a>  <span class="fu">arrange</span>(prop_delayed) <span class="sc">%&gt;%</span> </span>
<span id="cb1-269"><a href="#cb1-269"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb1-270"><a href="#cb1-270"></a><span class="fu">head</span>(delay_time)</span>
<span id="cb1-271"><a href="#cb1-271"></a><span class="in">```</span></span>
<span id="cb1-272"><a href="#cb1-272"></a></span>
<span id="cb1-275"><a href="#cb1-275"></a><span class="in">```{r}</span></span>
<span id="cb1-276"><a href="#cb1-276"></a><span class="co">#| fig-cap: "The figure for Question 6a."</span></span>
<span id="cb1-277"><a href="#cb1-277"></a><span class="co">#| echo: true</span></span>
<span id="cb1-278"><a href="#cb1-278"></a><span class="co">#| eval: true</span></span>
<span id="cb1-279"><a href="#cb1-279"></a><span class="fu">ggplot</span>(delay_time, <span class="fu">aes</span>(<span class="at">x =</span> time_of_day, <span class="at">y =</span> prop_delayed)) <span class="sc">+</span></span>
<span id="cb1-280"><a href="#cb1-280"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"grey90"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">colour =</span> <span class="st">"indianred"</span>) <span class="sc">+</span></span>
<span id="cb1-281"><a href="#cb1-281"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-282"><a href="#cb1-282"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Time of day"</span>,</span>
<span id="cb1-283"><a href="#cb1-283"></a>       <span class="at">y =</span> <span class="st">"Proportion of</span><span class="sc">\n</span><span class="st">flights delayed"</span>)</span>
<span id="cb1-284"><a href="#cb1-284"></a><span class="in">```</span></span>
<span id="cb1-285"><a href="#cb1-285"></a></span>
<span id="cb1-286"><a href="#cb1-286"></a>About 21% of flights are delayed between midnight and 6:00, 26% are delayed between 6:00-12:00, 46% delays between 12:00-18:00, and 52% delays between 18:00pm and midnight. As the day progresses, the better the chance is of there being a delay.</span>
<span id="cb1-287"><a href="#cb1-287"></a></span>
<span id="cb1-288"><a href="#cb1-288"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
<span id="cb1-289"><a href="#cb1-289"></a></span>
<span id="cb1-290"><a href="#cb1-290"></a>ii.  Based on your analysis, does the chance of being delayed change</span>
<span id="cb1-291"><a href="#cb1-291"></a>    throughout the day?</span>
<span id="cb1-292"><a href="#cb1-292"></a></span>
<span id="cb1-293"><a href="#cb1-293"></a>See answer to Question 2.e.i.</span>
<span id="cb1-294"><a href="#cb1-294"></a></span>
<span id="cb1-295"><a href="#cb1-295"></a>iii.  For each weekday (1-7) aggregated over 2013, which of the time</span>
<span id="cb1-296"><a href="#cb1-296"></a>    intervals has the most flights? Create a figure to show your</span>
<span id="cb1-297"><a href="#cb1-297"></a>    finding.</span>
<span id="cb1-298"><a href="#cb1-298"></a></span>
<span id="cb1-299"><a href="#cb1-299"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-300"><a href="#cb1-300"></a></span>
<span id="cb1-301"><a href="#cb1-301"></a>**Answer**</span>
<span id="cb1-302"><a href="#cb1-302"></a></span>
<span id="cb1-305"><a href="#cb1-305"></a><span class="in">```{r}</span></span>
<span id="cb1-306"><a href="#cb1-306"></a><span class="co">#| fig-cap: "The figure for Question 6c."</span></span>
<span id="cb1-307"><a href="#cb1-307"></a><span class="co">#| echo: true</span></span>
<span id="cb1-308"><a href="#cb1-308"></a><span class="co">#| eval: true</span></span>
<span id="cb1-309"><a href="#cb1-309"></a>flights_tod <span class="sc">%&gt;%</span> </span>
<span id="cb1-310"><a href="#cb1-310"></a>  <span class="fu">group_by</span>(time_of_day, day_of_week) <span class="sc">%&gt;%</span> </span>
<span id="cb1-311"><a href="#cb1-311"></a>  <span class="fu">summarise</span>(<span class="at">n_flights =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb1-312"><a href="#cb1-312"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> day_of_week, <span class="at">y =</span> n_flights)) <span class="sc">+</span></span>
<span id="cb1-313"><a href="#cb1-313"></a>    <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"grey90"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">colour =</span> <span class="st">"indianred"</span>) <span class="sc">+</span></span>
<span id="cb1-314"><a href="#cb1-314"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-315"><a href="#cb1-315"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Time of day"</span>,</span>
<span id="cb1-316"><a href="#cb1-316"></a>         <span class="at">y =</span> <span class="st">"Number of</span><span class="sc">\n</span><span class="st">flights"</span>) <span class="sc">+</span></span>
<span id="cb1-317"><a href="#cb1-317"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>time_of_day)</span>
<span id="cb1-318"><a href="#cb1-318"></a><span class="in">```</span></span>
<span id="cb1-319"><a href="#cb1-319"></a></span>
<span id="cb1-320"><a href="#cb1-320"></a>Midnight to 6-am has the fewest flights, regardless of what day of the week we are looking at -- although Sundays (day 1) and Saturday (day 7) have slightly fewer flights. Similarly, Sun?Sat have slightly fewer flights between 6-am to 6-pm, although the total number of flights are much higher (closer to 20000 flights per day). Evenings from 6-pm to midnight the flights decrease in numbers, and Saturdays have fewer flights during this time than other days.</span>
<span id="cb1-321"><a href="#cb1-321"></a></span>
<span id="cb1-322"><a href="#cb1-322"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
<span id="cb1-323"><a href="#cb1-323"></a></span>
<span id="cb1-324"><a href="#cb1-324"></a><span class="fu">## 2.f</span></span>
<span id="cb1-325"><a href="#cb1-325"></a></span>
<span id="cb1-326"><a href="#cb1-326"></a>Find the 10 planes that spend the longest time (cumulatively) in the air.</span>
<span id="cb1-327"><a href="#cb1-327"></a></span>
<span id="cb1-328"><a href="#cb1-328"></a>i.  For each model, what are the cumulative and mean flight times? In this table, also mention their type, manufacturer, model, number of engines, and speed.</span>
<span id="cb1-329"><a href="#cb1-329"></a></span>
<span id="cb1-330"><a href="#cb1-330"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-331"><a href="#cb1-331"></a></span>
<span id="cb1-332"><a href="#cb1-332"></a>**Answer**</span>
<span id="cb1-333"><a href="#cb1-333"></a></span>
<span id="cb1-336"><a href="#cb1-336"></a><span class="in">```{r}</span></span>
<span id="cb1-337"><a href="#cb1-337"></a><span class="co">#| echo: true</span></span>
<span id="cb1-338"><a href="#cb1-338"></a><span class="co">#| eval: true</span></span>
<span id="cb1-339"><a href="#cb1-339"></a>cum_flights <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span></span>
<span id="cb1-340"><a href="#cb1-340"></a>  <span class="fu">group_by</span>(tailnum) <span class="sc">%&gt;%</span> </span>
<span id="cb1-341"><a href="#cb1-341"></a>  <span class="fu">summarise</span>(<span class="at">cum_air_time =</span> <span class="fu">sum</span>(air_time),</span>
<span id="cb1-342"><a href="#cb1-342"></a>            <span class="at">mean_air_time =</span> <span class="fu">round</span>(<span class="fu">mean</span>(air_time, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-343"><a href="#cb1-343"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> cum_air_time, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-344"><a href="#cb1-344"></a>  <span class="fu">inner_join</span>(planes, <span class="at">by =</span> <span class="st">"tailnum"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-345"><a href="#cb1-345"></a>  <span class="fu">select</span>(tailnum, cum_air_time, mean_air_time, type, manufacturer, model, engines, speed) <span class="sc">%&gt;%</span> </span>
<span id="cb1-346"><a href="#cb1-346"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb1-347"><a href="#cb1-347"></a><span class="fu">head</span>(cum_flights)</span>
<span id="cb1-348"><a href="#cb1-348"></a><span class="in">```</span></span>
<span id="cb1-349"><a href="#cb1-349"></a></span>
<span id="cb1-350"><a href="#cb1-350"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
<span id="cb1-351"><a href="#cb1-351"></a></span>
<span id="cb1-352"><a href="#cb1-352"></a>ii.  Create a table that lists, for each air-plane identified in (i.), each flight (and associated destination) that it undertook during 2013. </span>
<span id="cb1-353"><a href="#cb1-353"></a></span>
<span id="cb1-354"><a href="#cb1-354"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-355"><a href="#cb1-355"></a></span>
<span id="cb1-356"><a href="#cb1-356"></a>**Answer**</span>
<span id="cb1-357"><a href="#cb1-357"></a></span>
<span id="cb1-360"><a href="#cb1-360"></a><span class="in">```{r}</span></span>
<span id="cb1-361"><a href="#cb1-361"></a><span class="co">#| echo: true</span></span>
<span id="cb1-362"><a href="#cb1-362"></a><span class="co">#| eval: true</span></span>
<span id="cb1-363"><a href="#cb1-363"></a>flight_dest <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb1-364"><a href="#cb1-364"></a>  <span class="fu">filter</span>(tailnum <span class="sc">%in%</span> cum_flights<span class="sc">$</span>tailnum) <span class="sc">%&gt;%</span> </span>
<span id="cb1-365"><a href="#cb1-365"></a>  <span class="fu">select</span>(tailnum, origin, dest, time_hour) <span class="sc">%&gt;%</span> </span>
<span id="cb1-366"><a href="#cb1-366"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb1-367"><a href="#cb1-367"></a><span class="fu">head</span>(flight_dest)</span>
<span id="cb1-368"><a href="#cb1-368"></a><span class="in">```</span></span>
<span id="cb1-369"><a href="#cb1-369"></a></span>
<span id="cb1-370"><a href="#cb1-370"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
<span id="cb1-371"><a href="#cb1-371"></a></span>
<span id="cb1-372"><a href="#cb1-372"></a>iii.  Summarise all the in formation in (ii.) on a map of the USA. Use</span>
<span id="cb1-373"><a href="#cb1-373"></a>    lines to connect departure and destination locations (each</span>
<span id="cb1-374"><a href="#cb1-374"></a>    labelled). Different facets in the figure must be used for each of</span>
<span id="cb1-375"><a href="#cb1-375"></a>    the 10 planes. You can use the <span class="in">`alpha`</span> value in **ggplot2** such</span>
<span id="cb1-376"><a href="#cb1-376"></a>    that the colour intensity of overlapping flight lines is</span>
<span id="cb1-377"><a href="#cb1-377"></a>    proportional to the number of flights taken along the path. For</span>
<span id="cb1-378"><a href="#cb1-378"></a>    bonus marks, ensure that the curvature of Earth is indicated in the</span>
<span id="cb1-379"><a href="#cb1-379"></a>    flight lines. *Hint:* such lines would display as curves, not straight</span>
<span id="cb1-380"><a href="#cb1-380"></a>    lines.</span>
<span id="cb1-381"><a href="#cb1-381"></a></span>
<span id="cb1-382"><a href="#cb1-382"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-383"><a href="#cb1-383"></a></span>
<span id="cb1-386"><a href="#cb1-386"></a><span class="in">```{r}</span></span>
<span id="cb1-387"><a href="#cb1-387"></a><span class="co"># to be done in due course...</span></span>
<span id="cb1-388"><a href="#cb1-388"></a><span class="in">```</span></span>
<span id="cb1-389"><a href="#cb1-389"></a></span>
<span id="cb1-390"><a href="#cb1-390"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
<span id="cb1-391"><a href="#cb1-391"></a></span>
<span id="cb1-392"><a href="#cb1-392"></a><span class="fu">## 2.g</span></span>
<span id="cb1-393"><a href="#cb1-393"></a></span>
<span id="cb1-394"><a href="#cb1-394"></a>Limit this analysis to only the coldest three winter and warmest three</span>
<span id="cb1-395"><a href="#cb1-395"></a>summer months (show evidence for how this is decided). For each of these</span>
<span id="cb1-396"><a href="#cb1-396"></a>two seasons, create a visualisation to explore if there is a</span>
<span id="cb1-397"><a href="#cb1-397"></a>relationship between the mean daily departure delay and the mean daily</span>
<span id="cb1-398"><a href="#cb1-398"></a>temperature. Be as economical with your code as possible.</span>
<span id="cb1-399"><a href="#cb1-399"></a></span>
<span id="cb1-400"><a href="#cb1-400"></a>Discuss your answer.</span>
<span id="cb1-401"><a href="#cb1-401"></a></span>
<span id="cb1-402"><a href="#cb1-402"></a><span class="in">`r if (params$hide_answers) "::: {.content-hidden}"`</span></span>
<span id="cb1-403"><a href="#cb1-403"></a></span>
<span id="cb1-404"><a href="#cb1-404"></a>**Answer**</span>
<span id="cb1-405"><a href="#cb1-405"></a></span>
<span id="cb1-406"><a href="#cb1-406"></a><span class="in">```{r ec}</span></span>
<span id="cb1-407"><a href="#cb1-407"></a><span class="co">#| echo: true</span></span>
<span id="cb1-408"><a href="#cb1-408"></a><span class="co">#| eval: true</span></span>
<span id="cb1-409"><a href="#cb1-409"></a>seas <span class="ot">&lt;-</span> weather <span class="sc">%&gt;%</span> </span>
<span id="cb1-410"><a href="#cb1-410"></a>  <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span> </span>
<span id="cb1-411"><a href="#cb1-411"></a>  <span class="fu">summarise</span>(<span class="at">mean_temp =</span> <span class="fu">round</span>(<span class="fu">mean</span>(temp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-412"><a href="#cb1-412"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb1-413"><a href="#cb1-413"></a>seas</span>
<span id="cb1-414"><a href="#cb1-414"></a></span>
<span id="cb1-415"><a href="#cb1-415"></a><span class="fu">ggplot</span>(seas, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> (mean_temp <span class="sc">-</span> <span class="dv">32</span>)<span class="sc">*</span><span class="dv">5</span><span class="sc">/</span><span class="dv">9</span>)) <span class="sc">+</span></span>
<span id="cb1-416"><a href="#cb1-416"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"grey90"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">colour =</span> <span class="st">"indianred"</span>) <span class="sc">+</span></span>
<span id="cb1-417"><a href="#cb1-417"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2</span>, <span class="dv">12</span>, <span class="at">by =</span> <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb1-418"><a href="#cb1-418"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-419"><a href="#cb1-419"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>,</span>
<span id="cb1-420"><a href="#cb1-420"></a>       <span class="at">y =</span> <span class="st">"Mean temp. (°C)"</span>)</span>
<span id="cb1-421"><a href="#cb1-421"></a><span class="in">```</span></span>
<span id="cb1-422"><a href="#cb1-422"></a></span>
<span id="cb1-423"><a href="#cb1-423"></a>The coldest months are December, January, and February. The warmest time of year is during June, July, August.</span>
<span id="cb1-424"><a href="#cb1-424"></a></span>
<span id="cb1-427"><a href="#cb1-427"></a><span class="in">```{r}</span></span>
<span id="cb1-428"><a href="#cb1-428"></a><span class="co">#| echo: true</span></span>
<span id="cb1-429"><a href="#cb1-429"></a><span class="co">#| eval: true</span></span>
<span id="cb1-430"><a href="#cb1-430"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb1-431"><a href="#cb1-431"></a>  <span class="fu">filter</span>(month <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">12</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-432"><a href="#cb1-432"></a>  <span class="fu">inner_join</span>(weather, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"origin"</span>, <span class="st">"month"</span>, <span class="st">"day"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-433"><a href="#cb1-433"></a>  <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span> </span>
<span id="cb1-434"><a href="#cb1-434"></a>  <span class="fu">summarise</span>(<span class="at">mean_dep_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb1-435"><a href="#cb1-435"></a>            <span class="at">mean_temp =</span> <span class="fu">round</span>(<span class="fu">mean</span>(temp, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-436"><a href="#cb1-436"></a>  <span class="fu">mutate</span>(<span class="at">seas =</span> <span class="fu">c</span>(<span class="st">"winter"</span>, <span class="st">"winter"</span>, <span class="st">"summer"</span>, <span class="st">"summer"</span>, <span class="st">"summer"</span>, <span class="st">"winter"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-437"><a href="#cb1-437"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> (mean_temp <span class="sc">-</span> <span class="dv">32</span>)<span class="sc">*</span><span class="dv">5</span><span class="sc">/</span><span class="dv">9</span>, <span class="at">y =</span> mean_dep_delay)) <span class="sc">+</span></span>
<span id="cb1-438"><a href="#cb1-438"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">col =</span> seas)) <span class="sc">+</span></span>
<span id="cb1-439"><a href="#cb1-439"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-440"><a href="#cb1-440"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Mean temp. (°C)"</span>, <span class="at">y =</span> <span class="st">"Mean delay (min)"</span>)</span>
<span id="cb1-441"><a href="#cb1-441"></a><span class="in">```</span></span>
<span id="cb1-442"><a href="#cb1-442"></a></span>
<span id="cb1-443"><a href="#cb1-443"></a>It seems that, in general, shorter delays are experienced during winter months. To fully assess the effect of weather variables on delays, a more detailed statistical analysis will be required.</span>
<span id="cb1-444"><a href="#cb1-444"></a></span>
<span id="cb1-445"><a href="#cb1-445"></a><span class="in">`r if (params$hide_answers) ":::"`</span></span>
</code></pre></div><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2026, AJ Smit</p>
</div>   
    <div class="nav-footer-center">

<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/ajsmit/tangled_bank/edit/main/BCB744/assessments/BCB744_Intro_R_Example_2.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ajsmit/tangled_bank/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>