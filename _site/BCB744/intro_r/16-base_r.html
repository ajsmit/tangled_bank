<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Albertus J. Smit">
<meta name="dcterms.date" content="2021-01-01">
<title>16. Base R Primer | Albertus J. Smit â€“ The Tangled Bank</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../BCB744/intro_r/17-dates.html" rel="next">
<link href="../../BCB744/intro_r/15-functions.html" rel="prev">
<link href="../../images/favicon.ico" rel="icon">
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SCYH68M489"></script><script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-SCYH68M489', { 'anonymize_ip': true});
</script><script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"headline",
  "consent_type":"express",
  "palette":"dark",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script><style>html{ scroll-behavior: smooth; }</style>
<script async="" src="https://hypothes.is/embed.js"></script><script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script><link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="16. Base R Primer | Albertus J. Smit">
<meta property="og:description" content="The old times">
<meta property="og:image" content="http://tangledbank.netlify.app/BCB744/intro_r/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==">
<meta property="og:site_name" content="The Tangled Bank">
</head>
<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">The Tangled Bank</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link active" href="../../index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-vignettes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Vignettes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-vignettes">
<li>
    <a class="dropdown-item" href="../../vignettes/netCDF_dates.html">
 <span class="dropdown-text">Dates From netCDF Files: Two Approaches</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/prep_NOAA_OISST.html">
 <span class="dropdown-text">Downloading and Prep: ERDDAP</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/chl_ERDDAP.html">
 <span class="dropdown-text">Retrieving Chlorophyll-a Data from ERDDAP Servers</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/alt_method.html">
 <span class="dropdown-text">Downloading and Prep: Python + CDO</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/gridded_data.html">
 <span class="dropdown-text">Detecting Events in Gridded Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/regridding.html">
 <span class="dropdown-text">Regridding gridded data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/MHW_MCS_horizonplots.html">
 <span class="dropdown-text">Displaying MHWs and MCSs as Horizon Plots</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/heatwaveR_issues.html">
 <span class="dropdown-text">heatwaveR Issues</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/chl_sightings.html">
 <span class="dropdown-text">Plotting the Whale Sightings and Chlorophyll-<em>a</em> Concentrations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/chl_localisation.html">
 <span class="dropdown-text">Spatial Localisation, Subsetting, and Aggregation of the Chlorophyll-<em>a</em> Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/elem_ts_methods.html">
 <span class="dropdown-text">Wavelet Analysis of Diatom Time Series</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/buffer_data_extract.html">
 <span class="dropdown-text">Extracting gridded data within a buffer</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-high-performace-computing" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">High-Performace Computing</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-high-performace-computing">
<li>
    <a class="dropdown-item" href="../../vignettes/README_Lengau.html">
 <span class="dropdown-text">Using Lengau</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/PBSPro_users.html">
 <span class="dropdown-text">PBSPro user and job management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../vignettes/README_tmux.html">
 <span class="dropdown-text">Using tmux</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Tangled Bank Blog</span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-blogroll" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Blogroll</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-blogroll">
<li>
    <a class="dropdown-item" href="https://www.r-bloggers.com">
 <span class="dropdown-text">R-bloggers</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">
<li>
    <a class="dropdown-item" href="https://github.com/ajsmit/tangled_bank">
 <span class="dropdown-text">Source Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://bugs.com">
 <span class="dropdown-text">Report a Bug</span></a>
  </li>  
    </ul>
</li>
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../BCB744/BCB744_index.html">BCB744 Intro R</a></li><li class="breadcrumb-item"><a href="../../BCB744/intro_r/16-base_r.html">16. Base R Primer</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../images/hex_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
 <span class="menu-text">â˜˜â˜˜â˜˜ï¸Ž</span>
  </li>
        <li class="sidebar-item">
 <span class="menu-text">BCB UNDERGRADUATE</span>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">BDC223 Ecophysiology</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../pages/BDC223_FAQ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FAQ</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">BDC334 Biogeography &amp; Global Ecology</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/BDC334_syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus &amp; Policies</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/L01a-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 1a. About Biogeography &amp; Global Ecology</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/L01b-macroecology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 1b. Macroecology</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/L02a-gradients.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 2a. Ecological Gradients</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/L02b-biodiversity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 2b: Metrics of Environmental &amp; Species Diversity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/L03-structure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lecture 3: Species Distribution Patterns</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/01-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 1. Ecological Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/02a-r_rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 2a. R &amp; RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/02b-env_dist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 2b. Environmental Distance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/03-biodiversity1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 3. Quantifying Biodiversity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BDC334/04-biodiversity2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 4. Species Distribution Patterns</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../pages/Transboundary_systems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Transboundary systems</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
 <span class="menu-text">â˜˜â˜˜â˜˜</span>
  </li>
        <li class="sidebar-item">
 <span class="menu-text">BCB HONOURS CORE</span>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">BCB744 Intro R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/BCB744_index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BCB744: Introduction to R, and Biostatistics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/01-RStudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. R and RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/02-working-with-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Working With Data and Code</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/03-workflow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. R workflows</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/04-graphics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Graphics with ggplot2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/05-faceting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. Faceting Figures</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/06-brewing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6. Brewing Colours</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/07-mapping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7. Mapping With ggplot2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/08-mapping_style.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8. Mapping With Style</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/09-mapping_rnaturalearth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9. Mapping With Natural Earth and the <strong>sf</strong> Package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/10-mapping_quakes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10. The Fiji Earthquake Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/11-tidy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">11. Tidy Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/12-tidier.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">12. Tidier Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/13-tidiest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">13. Tidiest Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/14-recap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">14. Recap</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/15-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">15. Functions by Chapter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/16-base_r.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">16. Base R Primer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/intro_r/17-dates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">17. Dates</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">BCB744 Biostatistics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/BCB744_scientific_philosophy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Biostatistics and the philosophy of scientific inquiry</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/01-data-in-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Data Classes and Structures in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/02-summarise-and-describe.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Exploring With Summaries and Descriptions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/03-visualise.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Exploring With Figures</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/04-distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Data Distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/05-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. Statistical Inference and Hypothesis Testing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/06-assumptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6. Assumptions for Parametric Statistics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/07-t_tests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7. <em>t</em>-Tests</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/08-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8. Analysis of Variance (ANOVA)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/09-regressions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9. Simple Linear Regressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/10-correlations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10. Correlations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/11-decision_guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">11. A Guide to Selecting Parametric Tests</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/12-glance.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">12. Non-Parametric Statistical Tests</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/13-confidence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">13. Confidence Intervals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB744/basic_stats/14-transformations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">14. Data Transformations</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
 <span class="menu-text">â˜˜â˜˜â˜˜</span>
  </li>
        <li class="sidebar-item">
 <span class="menu-text">BCB HONOURS ELECTIVES</span>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">BCB743 Quantitative Ecology</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/BCB743_index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview &amp; Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1-4: Review Concepts fo Biodiversity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/correlations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5: Correlations &amp; Associations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/ordination.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7: Intro to Ordination</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/PCA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8a: Principal Components Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/PCA_examples.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8b: PCA: Additional Examples</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/PCA_SDG_example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8c: PCA: WHO SDG Example</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/CA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9a: Correspondence Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/DCA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9b: Detrended Correspondence Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/PCoA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10: Principal Coordinates Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/nMDS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">11a: Non-metric Multidimensional Scaling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/nMDS_diatoms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">11b: nMDS: PERMANOVA (Diatoms) Example</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/unconstrained-summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">12: Unconstrained Ordination Summary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/model_building.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">13: Model Building</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/multiple_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">14a: Multiple Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/deep_dive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">14b: Gradients Example</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/constrained_ordination.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">15a: Distance-Based Redundancy Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/two_oceans_appendices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">15b: db-RDA: Seaweeds Example</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../BCB743/cluster_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">16: Cluster Analysis</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
 <span class="menu-text">â˜˜â˜˜â˜˜ï¸Ž</span>
  </li>
        <li class="sidebar-item">
 <span class="menu-text">SUPPORT</span>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Web Resources</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../resources/general_resources_web.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Resources</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../resources/ecology_resources_web.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantitative Ecology Resources</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../resources/spatial_resources_web.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spatial R Resources</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
 <span class="menu-text">â˜˜â˜˜â˜˜ï¸Ž</span>
  </li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#dataframes" id="toc-dataframes" class="nav-link active" data-scroll-target="#dataframes">Dataframes</a></li>
  <li><a href="#basic-data-types" id="toc-basic-data-types" class="nav-link" data-scroll-target="#basic-data-types">Basic data types</a></li>
  <li><a href="#numeric" id="toc-numeric" class="nav-link" data-scroll-target="#numeric">Numeric</a></li>
  <li><a href="#integer" id="toc-integer" class="nav-link" data-scroll-target="#integer">Integer</a></li>
  <li><a href="#logical" id="toc-logical" class="nav-link" data-scroll-target="#logical">Logical</a></li>
  <li><a href="#character" id="toc-character" class="nav-link" data-scroll-target="#character">Character</a></li>
  <li><a href="#factor" id="toc-factor" class="nav-link" data-scroll-target="#factor">Factor</a></li>
  <li><a href="#dates" id="toc-dates" class="nav-link" data-scroll-target="#dates">Dates</a></li>
  <li><a href="#vectors" id="toc-vectors" class="nav-link" data-scroll-target="#vectors">Vectors</a></li>
  <li><a href="#vector-indices" id="toc-vector-indices" class="nav-link" data-scroll-target="#vector-indices">Vector indices</a></li>
  <li><a href="#vector-creation" id="toc-vector-creation" class="nav-link" data-scroll-target="#vector-creation">Vector creation</a></li>
  <li><a href="#vector-arithmetic" id="toc-vector-arithmetic" class="nav-link" data-scroll-target="#vector-arithmetic">Vector arithmetic</a></li>
  <li><a href="#dataframe-creation" id="toc-dataframe-creation" class="nav-link" data-scroll-target="#dataframe-creation">Dataframe creation</a></li>
  <li><a href="#dataframe-indices" id="toc-dataframe-indices" class="nav-link" data-scroll-target="#dataframe-indices">Dataframe indices</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/ajsmit/tangled_bank/edit/main/BCB744/intro_r/16-base_r.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ajsmit/tangled_bank/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../BCB744/BCB744_index.html">BCB744 Intro R</a></li><li class="breadcrumb-item"><a href="../../BCB744/intro_r/16-base_r.html">16. Base R Primer</a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">16. Base R Primer</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
<p class="subtitle lead">The old times</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://tangledbank.netlify.app">Albertus J. Smit</a> <a href="https://orcid.org/0000-0002-3799-6126" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://uwc.ac.za">
            University of the Western Cape
            </a>
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 1, 2021</p>
    </div>
  </div>
  
    
  </div>
  


</header><p>Please note that the following chapter departs from the syntax employed by the <strong>tidyverse</strong>, as utilised throughout this workshop, in favour of the base R syntax. This may be changed in the future, but has been left for now in order to better highlight the fundamental machinations of the R language, upon which the <strong>tidyverse</strong> is based.</p>
<section id="dataframes" class="level1"><h1>Dataframes</h1>
<p>The â€˜workhorseâ€™ data-containing structures you will use extensively in R are called <em>dataframes</em>. In fact, almost all of the work you do in R will be done directly with dataframes or will involve converting data into a dataframe. A dataframe is used for storing data as tables, with a table defined by a collection of vectors of similar or dissimilar data types but all of the same length. Donâ€™t worry if any of those terms are unknown or daunting. We will cover them in detail just now. But first we need to see what a dataframe looks like in order to provide context for all of the parts they consist of. After we have covered all of the terms used for data in R we will learn some methods of creating our own dataframes.</p>
<p>To load a dataframe into R is quite simple when the data are already in the â€˜.Rdataâ€™ format. Letâ€™s load a small dataframe that was prepared for this class and see. The file extension â€˜.Rdataâ€™ does not mean necessarily that the data are in a dataframe (table) format. This file extensions is actually a form of data compression unique to R and could hold anything from a single letter to the results of a complex species distribution model. For the following line of code to work we must make sure we are in the â€˜Intro_R_Workshopâ€™ project.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">load</span>(<span class="st">"../../data/intro_data.Rdata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Upon loading the data frame we see in the <strong>Environment</strong> tab that there is a little blue circle next to our object. If we click on that we see a summary of each column. First it says what the data type for that column is and then shows the first several values therein.</p>
<p>If you click on the â€˜intro_dataâ€™ word in your <strong>Environment</strong> tab it will open it in your <strong>Source Editor</strong> and allow you to click on the columns to organise them by ascending or descending order. Note that this does not change the dataframe, it is only a visual aid.</p>
</section><section id="basic-data-types" class="level1"><h1>Basic data types</h1>
<p>There are several basic R data types that you frequently encounter in daily work. These include but are not limited to <em>numeric</em>, <em>integer</em>, <em>logical</em>, <em>character</em>, <em>factor</em> and <em>date</em> classes. All of these data types are present in our â€˜intro_dataâ€™ dataframe for us to see practical examples. We will create our own examples as we go along.</p>
</section><section id="numeric" class="level1"><h1>Numeric</h1>
<p>Numeric data with decimal values are called <em>numeric</em> in R. It is the default computational data type. If we look at our data frame we see that the following columns are numeric: lon, lat, NA.perc, mean, min and max. What sort of data are these?</p>
<p>Letâ€™s create our own numeric object by assigning a decimal value to a variable <code>x</code> as follows, <code>x</code> will be of numeric type:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>x <span class="ot">&lt;-</span> <span class="fl">1.2</span> <span class="co"># assign 1.2 to x</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>x <span class="co"># print the value of x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">class</span>(x) <span class="co"># what is the class of x?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<p>Furthermore, even if we assign a number to a variable <code>k</code> that doesnâ€™t have a decimal place, it is still being saved as a numeric value:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>k <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>k</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">class</span>(k)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<p>If we want to really be certain that <code>k</code> is or is not an integer we use <code><a href="https://rdrr.io/r/base/integer.html">is.integer()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">is.integer</span>(k) <span class="co"># is k an integer?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section><section id="integer" class="level1"><h1>Integer</h1>
<p>An <em>integer</em> in R is a numeric value that does not have a decimal place. It may only be a round whole number. Integers are often used for count data and when converting qualitative data to numbers for data analysis. In our dataframe we may see that we have two integer columns: depth and length. Why are these integers?</p>
<p>In order to create your own integer variable(s) in R, we use the <code><a href="https://rdrr.io/r/base/integer.html">as.integer()</a></code>. We can be assured that <code>y</code> is indeed an integer by checking with <code><a href="https://rdrr.io/r/base/integer.html">is.integer()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>y <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="dv">13</span>)</span>
<span id="cb12-2"><a href="#cb12-2"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">class</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">is.integer</span>(y) <span class="co"># is it an integer?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>If we really have to, we can coerce a numeric value into an integer with the same <code><a href="https://rdrr.io/r/base/integer.html">as.integer()</a></code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>z <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(pi)</span>
<span id="cb18-2"><a href="#cb18-2"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">class</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">is.integer</span>(z) <span class="co"># is it an integer?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section><section id="logical" class="level1"><h1>Logical</h1>
<p>There are several <em>logic</em> values in R. We are mostly going to be concerned with the two main values we will be encountering: TRUE and FALSE. Note that all letters must be upper case. In our dataframe we see that only the â€˜thermoâ€™ column is logical. This column tells us whether or not the data were collected with a thermometer or not.</p>
<p>Logical values (<code>TRUE</code> or <code>FALSE</code>) are often created via comparison between variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span>; y <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co"># sample values</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>z <span class="ot">&lt;-</span> x <span class="sc">&gt;</span> y</span>
<span id="cb24-3"><a href="#cb24-3"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">class</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
</div>
<p>In order to perform logical operations we mostly use <code>&amp;</code> (and), <code>|</code> (or), and <code>!</code> (negation):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>u <span class="ot">&lt;-</span> <span class="cn">TRUE</span>; v <span class="ot">&lt;-</span> <span class="cn">FALSE</span>; w <span class="ot">&lt;-</span> <span class="cn">TRUE</span>; x <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>u <span class="sc">&amp;</span> v</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>u <span class="sc">&amp;</span> w</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>v <span class="sc">&amp;</span> x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>u <span class="sc">|</span> v</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="sc">!</span>u</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Although these logical operators can be immensely useful in more advanced R programming, we will not go into too much detail in this introductory course. For more information on the logical operators, see the R help material:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">help</span>(<span class="st">"&amp;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>One final thing to note about logic in R is that it can be useful to perform arithmetic on logical values. <code>TRUE</code> has the value 1, while <code>FALSE</code> has value 0:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">as.integer</span>(<span class="cn">TRUE</span>) <span class="co"># the numeric value of TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">as.integer</span>(<span class="cn">FALSE</span>) <span class="co"># the numeric value of FALSE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">sum</span>(<span class="fu">as.integer</span>(intro_data<span class="sc">$</span>thermo))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<p>What is this telling us?</p>
</section><section id="character" class="level1"><h1>Character</h1>
<p>In our dataframe we see that only the â€˜srcâ€™ column has the <em>character</em> values. This column is showing us which government body etc. collected the data in that row. At the use of a very familiar word, character, one may think this data type must be the most straightforward. This is not necessarily so as character values are used to represent <em>string</em> values in R. Because computers do not understand text the same way we do, they tend to handle this information differently. This allows us to do some pretty wild stuff with character values, but we wonâ€™t be getting into that in this course as it quickly becomes very technical and generally speaking isnâ€™t very useful in a daily application.</p>
<p>If however we wanted to convert an object to a character value we would do so with <code><a href="https://rdrr.io/r/base/character.html">as.character()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>d <span class="ot">&lt;-</span> <span class="fu">as.character</span>(pi)</span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="fu">class</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>This can be useful if you have data that you want to be characters, but for one reason or another R has decided to make it a different data type.</p>
<p>If you want to join two character objects they can be concatenated with the <code><a href="https://rdrr.io/r/base/paste.html">paste()</a></code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>a <span class="ot">&lt;-</span> <span class="st">"fluffy"</span>; b <span class="ot">&lt;-</span> <span class="st">"bunny"</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="fu">paste</span>(a, b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "fluffy bunny"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">paste</span>(a, b, <span class="at">sep =</span> <span class="st">"-"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "fluffy-bunny"</code></pre>
</div>
</div>
<p>More functions for string manipulation can be found in the R documentation â€” type <code><a href="https://rdrr.io/r/base/grep.html">help("sub")</a></code> at the command prompt. You may also wish to install Hadley Wickhamâ€™s nifty <strong><code>stringr</code></strong> package for more cool ways to work with character strings.</p>
</section><section id="factor" class="level1"><h1>Factor</h1>
<p><em>Factor</em> values are somewhat difficult to explain and often even more difficult to understand. Factor values appear the same as character values when we look at them in a spreadsheet. But they are not the same. This will lead to much wailing and gnashing of teeth. So why then do factors exist and why would we use them? Factors allow us to numerically order names non-alphabetically, for example. This then allows one to order a list of research sites in geographical order.</p>
<p>We will see many examples of factors during this course but for now look at the â€˜siteâ€™ column in our dataframe. If we click on this column a couple of times we see that it reorders all the data based on ascending or descending order of the sites. But that order is not alphabetical, it is based on the <em>levels</em> within the factor column. Each factor value in a column is assigned a level integer value (e.g.&nbsp;1, 2, 3, 4, etc.). If multiple values in a factor column are the same, they receive the same level value as well.</p>
<p>If we want to see what the levels within a factor column are we use <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">levels</span>(intro_data<span class="sc">$</span>site)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Port Nolloth"  "St Helena Bay" "Saldanha Bay"  "Muizenberg"   
 [5] "Cape Agulhas"  "Mossel Bay"    "Tsitsikamma"   "Humewood"     
 [9] "Hamburg"       "Durban"        "Richards Bay"  "Sodwana"      </code></pre>
</div>
</div>
<p>We will discuss in the next session what that <code>$</code> means. But for now, are you able to see what the pattern is in the levels of the site listing?</p>
<p>If we want to create our own factors we will use <code><a href="https://rdrr.io/r/base/factor.html">as.factor()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>f <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="fu">levels</span>(f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a" "b" "c" "d" "e"</code></pre>
</div>
</div>
<p>And if we want to change the order of our factor levels we use <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>f <span class="ot">&lt;-</span> <span class="fu">factor</span>(f, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"b"</span>, <span class="st">"a"</span>, <span class="st">"c"</span>, <span class="st">"e"</span>, <span class="st">"d"</span>))</span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="fu">levels</span>(f)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "b" "a" "c" "e" "d"</code></pre>
</div>
</div>
<p>Another reason for using factors to re-order our data, as we shall see tomorrow, is that this allows us to control the order in which values are plotted.</p>
</section><section id="dates" class="level1 page-columns page-full"><h1>Dates</h1>
<p>See the next chapter about dates.</p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p><img src="../../collection/intro_r/chapters/16-base_r_files/Dried-dates.webp" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption class="margin-caption">Dates.</figcaption></figure>
</div>
</section><section id="vectors" class="level1"><h1>Vectors</h1>
<p>A vector, by definition, is a one-dimensional sequence of data elements of the same basic type (class). Members in a vector are officially called components. Basically, a vector is a column. Indeed, a dataframe is nothing more than a collection of vectors stuck together. If we wanted to create a vector from our dataframe we would do this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>lonely_vector <span class="ot">&lt;-</span> intro_data<span class="sc">$</span>NA.perc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice that we may not click on the object <code>lonely_vector</code> in our <strong>Environment</strong> tab. This is because it is no longer two-dimensional. If we want to visualise the data we need to enter it into the console or run it from our script:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>lonely_vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  6 41 32  4 28 26  8  3  6 67 38 16</code></pre>
</div>
</div>
<p>Letâ€™s create some vectors of our own:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>primes1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb60-2"><a href="#cb60-2"></a>primes1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 5 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="fu">class</span>(primes1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>p1 <span class="ot">&lt;-</span> pi</span>
<span id="cb64-2"><a href="#cb64-2"></a>p2 <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb64-3"><a href="#cb64-3"></a>p3 <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb64-4"><a href="#cb64-4"></a></span>
<span id="cb64-5"><a href="#cb64-5"></a>primes2 <span class="ot">&lt;-</span> <span class="fu">c</span>(p1, p2, p3)</span>
<span id="cb64-6"><a href="#cb64-6"></a>primes2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.141593 5.000000 7.000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">class</span>(primes2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="fu">is.numeric</span>(primes2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a><span class="fu">is.integer</span>(primes2) <span class="co"># integers coerced into floating point numbers</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>We can also have vectors of logical values or character strings, and we can use the function <code><a href="https://rdrr.io/r/base/length.html">length()</a></code> to see how many components each has:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>tf <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb72-2"><a href="#cb72-2"></a>tf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE  TRUE FALSE FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="fu">length</span>(tf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>cs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Mary"</span>, <span class="st">"has"</span>, <span class="st">"a"</span>, <span class="st">"silly"</span>, <span class="st">"lamb"</span>)</span>
<span id="cb76-2"><a href="#cb76-2"></a>cs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Mary"  "has"   "a"     "silly" "lamb" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a><span class="fu">length</span>(cs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p>Of course one would seldom enter data into R using the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> (combine) function, but it is useful for short calculations. More often than not one would import data from Excel (urgh!) or something more reputable. The kinds of data one can read into R are remarkable. We will get to that later on.</p>
<p>We can also combine vectors in many ways, and the simplest way is the append one after the other:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>primes12 <span class="ot">&lt;-</span> <span class="fu">c</span>(primes1, primes2)</span>
<span id="cb80-2"><a href="#cb80-2"></a>primes12</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.000000 5.000000 7.000000 3.141593 5.000000 7.000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>nonSense <span class="ot">&lt;-</span> <span class="fu">c</span>(primes12, cs)</span>
<span id="cb82-2"><a href="#cb82-2"></a>nonSense</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "3"                "5"                "7"                "3.14159265358979"
 [5] "5"                "7"                "Mary"             "has"             
 [9] "a"                "silly"            "lamb"            </code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a><span class="fu">class</span>(nonSense)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<p>In the code fragment above, notice how the numeric values are being coerced into character strings when the two vectors of dissimilar class are combined. This is necessary so as to maintain the same primitive data type for members in the same vector.</p>
</section><section id="vector-indices" class="level1"><h1>Vector indices</h1>
<p>What if we want to extract one or a few components from the vector? Easyâ€¦ We retrieve values in a vector by declaring an index inside a single square bracket <code>[]</code> operator. For example, the following shows how to retrieve a vector component. Since the vector index is 1-based (<em>i.e.</em> the first component in a vector is numbered <code>1</code>), we use the index position <code>7</code> for retrieving the seventh member:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>nonSense[<span class="dv">7</span>] <span class="co"># find the seventh component in the vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Mary"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a><span class="co"># or combine them in interesting ways...</span></span>
<span id="cb88-2"><a href="#cb88-2"></a><span class="fu">paste</span>(nonSense[<span class="dv">7</span>], nonSense[<span class="dv">8</span>], nonSense[<span class="dv">4</span>], nonSense[<span class="dv">10</span>], <span class="st">"bunnies"</span>, <span class="at">sep =</span> <span class="st">" "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Mary has 3.14159265358979 silly bunnies"</code></pre>
</div>
</div>
<p>If the index given is negative, it will remove the value whose position has the same absolute value as the negative index. For example, the following creates a vector slice with the third member removed. However, if an index is out-of-range, a missing value will be reported via the symbol <code>NA</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">8</span>, <span class="dv">13</span>)</span>
<span id="cb90-2"><a href="#cb90-2"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  6  3  8 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a>a[<span class="sc">-</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  6  8 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a>a[<span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</section><section id="vector-creation" class="level1"><h1>Vector creation</h1>
<p>R has many funky ways of creating vectors. This process is important to understand because we will need to build on it to create our own dataframes. Here are some examples of vector creation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a><span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="co"># assign them to a variable if you want to...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   0  10  20  30  40  50  60  70  80  90 100</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a><span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">len =</span> <span class="dv">10</span>) <span class="co"># one may omit from and to</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   0.00000  11.11111  22.22222  33.33333  44.44444  55.55556  66.66667
 [8]  77.77778  88.88889 100.00000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a><span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="at">by =</span> pi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.000000 4.141593 7.283185</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a><span class="fu">rep</span>(<span class="dv">13</span>, <span class="at">times =</span> <span class="dv">13</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 13 13 13 13 13 13 13 13 13 13 13 13 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a><span class="fu">rep</span>(<span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">times =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a>a <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">20</span>, <span class="at">mean =</span> <span class="dv">13</span>, <span class="at">sd =</span> <span class="fl">0.13</span>) <span class="co"># random numbers with known mean and sd</span></span>
<span id="cb108-2"><a href="#cb108-2"></a><span class="fu">rep</span>(a, <span class="dv">5</span>) <span class="co"># one may omit the times argument</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] 13.07194 12.86612 12.91627 13.05433 12.90115 13.14684 13.01909 12.99009
  [9] 13.00061 12.70544 12.92143 12.82785 12.74792 12.97674 13.04192 13.05136
 [17] 12.99258 13.10079 13.03757 12.92089 13.07194 12.86612 12.91627 13.05433
 [25] 12.90115 13.14684 13.01909 12.99009 13.00061 12.70544 12.92143 12.82785
 [33] 12.74792 12.97674 13.04192 13.05136 12.99258 13.10079 13.03757 12.92089
 [41] 13.07194 12.86612 12.91627 13.05433 12.90115 13.14684 13.01909 12.99009
 [49] 13.00061 12.70544 12.92143 12.82785 12.74792 12.97674 13.04192 13.05136
 [57] 12.99258 13.10079 13.03757 12.92089 13.07194 12.86612 12.91627 13.05433
 [65] 12.90115 13.14684 13.01909 12.99009 13.00061 12.70544 12.92143 12.82785
 [73] 12.74792 12.97674 13.04192 13.05136 12.99258 13.10079 13.03757 12.92089
 [81] 13.07194 12.86612 12.91627 13.05433 12.90115 13.14684 13.01909 12.99009
 [89] 13.00061 12.70544 12.92143 12.82785 12.74792 12.97674 13.04192 13.05136
 [97] 12.99258 13.10079 13.03757 12.92089</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A" "B" "C" "A" "B" "C" "A" "B" "C"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="at">each =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A" "A" "A" "B" "B" "B" "C" "C" "C"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"01-31-1960"</span>, <span class="st">"02-13-1960"</span>, <span class="st">"06-23-1977"</span>, <span class="st">"01-01-2013"</span>)</span>
<span id="cb114-2"><a href="#cb114-2"></a><span class="fu">class</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1"></a>z <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(x, <span class="st">"%m-%d-%Y"</span>)</span>
<span id="cb116-2"><a href="#cb116-2"></a><span class="fu">class</span>(z) <span class="co"># introducing the date class</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1"></a><span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2013-12-30"</span>), <span class="fu">as.Date</span>(<span class="st">"2014-01-04"</span>), <span class="at">by =</span> <span class="st">"days"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2013-12-30" "2013-12-31" "2014-01-01" "2014-01-02" "2014-01-03"
[6] "2014-01-04"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1"></a><span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2013-12-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2016-01-31"</span>), <span class="at">by =</span> <span class="st">"months"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2013-12-01" "2014-01-01" "2014-02-01" "2014-03-01" "2014-04-01"
 [6] "2014-05-01" "2014-06-01" "2014-07-01" "2014-08-01" "2014-09-01"
[11] "2014-10-01" "2014-11-01" "2014-12-01" "2015-01-01" "2015-02-01"
[16] "2015-03-01" "2015-04-01" "2015-05-01" "2015-06-01" "2015-07-01"
[21] "2015-08-01" "2015-09-01" "2015-10-01" "2015-11-01" "2015-12-01"
[26] "2016-01-01"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1"></a><span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2000/1/1"</span>), <span class="at">by =</span> <span class="st">"month"</span>, <span class="at">length.out =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2000-01-01" "2000-02-01" "2000-03-01" "2000-04-01" "2000-05-01"
 [6] "2000-06-01" "2000-07-01" "2000-08-01" "2000-09-01" "2000-10-01"
[11] "2000-11-01" "2000-12-01"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1"></a><span class="co"># and many more...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="vector-arithmetic" class="level1"><h1>Vector arithmetic</h1>
<p>Arithmetic operations of vectors are performed component-by-component, <em>i.e.</em>, componentwise. For example, suppose we have vectors <code>a</code> and <code>b</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>)</span>
<span id="cb125-2"><a href="#cb125-2"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then we multiply <code>a</code> by <code>5</code>â€¦</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1"></a>a <span class="sc">*</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  5 15 25 35</code></pre>
</div>
</div>
<p>â€¦ and see that each component of <code>a</code> is multiplied by <code>5</code>. In other words, the shorter vector (here <code>5</code>) is recycled. Now multiply <code>a</code> with <code>b</code>â€¦</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1"></a>a <span class="sc">*</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  6 20 56</code></pre>
</div>
</div>
<p>â€¦and we see that the components in one vector matches those in the other one-for-one. Similarly for subtraction, addition and division, we get new vectors via componentwise operations. Try this here now a few times with your own vectors.</p>
<p>But what if one vector is somewhat shorter than the other? The <em>recycling rule</em> comes into play. If two vectors are of unequal length, the shorter one will be recycled in order to match the longer vector. For example, the following vectors <code>u</code> and <code>v</code> have different lengths, and their sum is computed by recycling values of the shorter vector <code>u</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1"></a>v <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">2</span>, <span class="at">len =</span> <span class="dv">13</span>)</span>
<span id="cb130-2"><a href="#cb130-2"></a>u <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">20</span>), <span class="at">len =</span> <span class="dv">5</span>)</span>
<span id="cb130-3"><a href="#cb130-3"></a>v <span class="sc">+</span> u</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in v + u: longer object length is not a multiple of shorter object
length</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  3 22  3 22  3  3 22  3 22  3  3 22  3</code></pre>
</div>
</div>
</section><section id="dataframe-creation" class="level1"><h1>Dataframe creation</h1>
<p>The most rudimentary way to create a dataframe is to create several vectors and then assemble them into a dataframe using <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code> â€” this is a function that combines by <em>c</em>olumn. For instance:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a><span class="co"># create three vectors of different types</span></span>
<span id="cb133-2"><a href="#cb133-2"></a>vec1 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="at">each =</span> <span class="dv">5</span>) <span class="co"># a character vector (a facctor)</span></span>
<span id="cb133-3"><a href="#cb133-3"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">seq.Date</span>(<span class="at">from =</span> <span class="fu">as.Date</span>(<span class="st">"1981-01-01"</span>), <span class="at">by =</span> <span class="st">"day"</span>, </span>
<span id="cb133-4"><a href="#cb133-4"></a>                 <span class="at">length.out =</span> <span class="fu">length</span>(vec1)) <span class="co"># date vector</span></span>
<span id="cb133-5"><a href="#cb133-5"></a>vec3 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="fu">length</span>(vec1), <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="fl">0.35</span>) <span class="co"># numeric vector</span></span>
<span id="cb133-6"><a href="#cb133-6"></a><span class="co"># now assemble dataframe</span></span>
<span id="cb133-7"><a href="#cb133-7"></a>df1 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(vec1, vec2, vec3)</span>
<span id="cb133-8"><a href="#cb133-8"></a><span class="fu">head</span>(df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     vec1 vec2   vec3                
[1,] "A"  "4018" "-0.409881378308302"
[2,] "A"  "4019" "0.484717919777085" 
[3,] "A"  "4020" "0.254948090540702" 
[4,] "A"  "4021" "-0.284596974927799"
[5,] "A"  "4022" "0.0681033274115888"
[6,] "B"  "4023" "0.567198896238048" </code></pre>
</div>
</div>
<p>Another way to achieve the same thing is to use the <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> function that will allow you to achieve all of the above steps at once. Here is the example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">vec1 =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="at">each =</span> <span class="dv">5</span>),</span>
<span id="cb135-2"><a href="#cb135-2"></a>                  <span class="at">vec2 =</span> <span class="fu">seq.Date</span>(<span class="at">from =</span> <span class="fu">as.Date</span>(<span class="st">"1981-01-01"</span>), <span class="at">by =</span> <span class="st">"day"</span>, </span>
<span id="cb135-3"><a href="#cb135-3"></a>                                  <span class="at">length.out =</span> <span class="fu">length</span>(vec1)),</span>
<span id="cb135-4"><a href="#cb135-4"></a>                  <span class="at">vec3 =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="fu">length</span>(vec1), <span class="at">mean =</span> <span class="dv">2</span>, <span class="at">sd =</span> <span class="fl">0.75</span>))</span>
<span id="cb135-5"><a href="#cb135-5"></a><span class="fu">head</span>(df2, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  vec1       vec2      vec3
1    A 1981-01-01 0.9719124
2    A 1981-01-02 0.9750427</code></pre>
</div>
</div>
<p>What about the names of the dataframe that you just created? Are you happy that they are descriptive enough? If you arenâ€™t, donâ€™t fear. There are several different ways in which we can change it. We can assign the existing separate vectors <code>vec1</code>, <code>vec2</code> and <code>vec3</code> to more user-friendly names using the <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> function, like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">level =</span> vec1,</span>
<span id="cb137-2"><a href="#cb137-2"></a>                  <span class="at">sample.date =</span> vec2,</span>
<span id="cb137-3"><a href="#cb137-3"></a>                  <span class="at">measurement =</span> vec3)</span>
<span id="cb137-4"><a href="#cb137-4"></a><span class="fu">head</span>(df1, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  level sample.date measurement
1     A  1981-01-01  -0.4098814
2     A  1981-01-02   0.4847179</code></pre>
</div>
</div>
<p>Another way is to change the name after you have created the dataframe using the <code><a href="https://rdrr.io/r/base/colnames.html">colnames()</a></code> assignment function, as in:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a><span class="fu">colnames</span>(df2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"level"</span>, <span class="st">"sample.date"</span>, <span class="st">"measurement"</span>)</span>
<span id="cb139-2"><a href="#cb139-2"></a><span class="fu">head</span>(df2, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  level sample.date measurement
1     A  1981-01-01   0.9719124
2     A  1981-01-02   0.9750427</code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a><span class="fu">names</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "level"       "sample.date" "measurement"</code></pre>
</div>
</div>
<p>Dataframes are very versatile and we can do many operations on them. A common requirement is to add a column to a dataframe that contains the outcome of some calculation. We could create a new column in the dataframe â€˜on the flyâ€™, as in:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1"></a>df2<span class="fl">.1</span> <span class="ot">&lt;-</span> df1 <span class="co"># copy the dataframe</span></span>
<span id="cb143-2"><a href="#cb143-2"></a>df2<span class="fl">.1</span><span class="sc">$</span>meas.anom <span class="ot">&lt;-</span> df1<span class="sc">$</span>measurement <span class="sc">-</span> <span class="fu">mean</span>(df1<span class="sc">$</span>measurement)</span>
<span id="cb143-3"><a href="#cb143-3"></a>df2<span class="fl">.1</span><span class="sc">$</span>meas.diff <span class="ot">&lt;-</span> df2<span class="fl">.1</span><span class="sc">$</span>measurement <span class="sc">-</span> df2<span class="fl">.1</span><span class="sc">$</span>meas.anom</span>
<span id="cb143-4"><a href="#cb143-4"></a><span class="fu">head</span>(df2<span class="fl">.1</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  level sample.date measurement  meas.anom  meas.diff
1     A  1981-01-01  -0.4098814 -0.4797006 0.06981919
2     A  1981-01-02   0.4847179  0.4148987 0.06981919</code></pre>
</div>
</div>
<p>We can also combine dataframes in different ways. Perhaps you have two (or more) dataframe that conform to the same layout, <em>i.e.</em> they have the same number of columns (although the length of the dataframes may differ), they have the same data type in those columns and the names of those columns are the same. Also, the order of the columns must be identical in all the dataframes. Two separate dataframe with the same structure may, for example, result from two identical experiments that were repeated at different times. We can then stack one on top (<em>e.g.</em> combine our experiments) of the other using the <em>r</em>ow bind function <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code>, as in:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a><span class="fu">nrow</span>(df1) <span class="co"># check the number of rows first</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1"></a><span class="fu">nrow</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a>df3 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df1, df2)</span>
<span id="cb149-2"><a href="#cb149-2"></a><span class="fu">nrow</span>(df3) <span class="co"># number of rows in the combined dataframe</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30</code></pre>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a><span class="fu">head</span>(df3, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  level sample.date measurement
1     A  1981-01-01  -0.4098814
2     A  1981-01-02   0.4847179</code></pre>
</div>
</div>
<p>But now how do we know how the portions of the stacked dataframe relate to the experiments that resulted in the data in the first place? There is no label to distinguish one experiment from the other. We can fix this by adding a new column to the stacked dataframe that contains the coding for the two experiments. We can achieve it like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1"></a>df3<span class="sc">$</span>exp.no <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"exp1"</span>, <span class="st">"exp2"</span>), <span class="at">each =</span> <span class="fu">nrow</span>(df1))</span>
<span id="cb153-2"><a href="#cb153-2"></a><span class="fu">head</span>(df3, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  level sample.date measurement exp.no
1     A  1981-01-01  -0.4098814   exp1
2     A  1981-01-02   0.4847179   exp1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a><span class="fu">tail</span>(df3, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   level sample.date measurement exp.no
29     C  1981-01-14    1.295048   exp2
30     C  1981-01-15    1.866781   exp2</code></pre>
</div>
</div>
<p>We can combine dataframes in another way â€” that is, bind columns side-by-side using the function <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code>. We used it before to place vectors of the same length next to each other to create a dataframe. This function is similar to <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code>, but where <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code> fusses over the names of the columns, <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code> does not. What does concern <code><a href="https://rdrr.io/r/base/cbind.html">cbind()</a></code>, however, is that the number of rows in the two (or more) dataframes that will be â€˜gluedâ€™ side-by-side is the same. Try it yourself with your own dataframes.</p>
</section><section id="dataframe-indices" class="level1"><h1>Dataframe indices</h1>
<p>Remember that weird <code>$</code> symbol we saw a little while ago? That symbol tells R that you want to see a column (vector) within a dataframe. For example, if we wanted to perform an operation on only one column in <code>intro_data</code> in order to ascertain the mean depth (m) of sampling:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a><span class="fu">round</span>(<span class="fu">mean</span>(intro_data<span class="sc">$</span>depth),<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.33</code></pre>
</div>
</div>
<p>If we want to subset only specific values in a dataframe, as we have seen how to do with vectors, we need to consider that we are now working with two dimensions and not one. We still use <code>[]</code> but now we must do a little extra. If we want to see how long the time series for Sodwana is we could do this in several ways, here are the three most common in an improving order:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a><span class="co"># Subset a dataframe using [,]</span></span>
<span id="cb159-2"><a href="#cb159-2"></a>intro_data[<span class="dv">12</span>,<span class="dv">9</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4606</code></pre>
</div>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1"></a><span class="co"># Subset only one column using []</span></span>
<span id="cb161-2"><a href="#cb161-2"></a>intro_data<span class="sc">$</span>length[<span class="dv">12</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4606</code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1"></a><span class="co"># Subset from one column using logic for another column</span></span>
<span id="cb163-2"><a href="#cb163-2"></a>intro_data<span class="sc">$</span>length[intro_data<span class="sc">$</span>site <span class="sc">==</span> <span class="st">"Sodwana"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4606</code></pre>
</div>
</div>
<p>The important thing to remember here is that when one needs to use a comma when subsetting, the row number is always on the left, and the column number is always on the right. Rows then columns! Tattoo that onto your brain. Or fore-arm if you are the adventurous type. We will go into the subsetting and analysis of dataframes in much more detail in the following session.</p>
<p>One must keep in mind that data in R can become substantially more complex than what we have covered, and the software also distinguishes several other kinds of data â€˜containersâ€™: in addition to vectors and dataframes, we also have <em>lists</em>, <em>matrices</em>, <em>time series</em> and <em>arrays</em>. The more complex ones, such as arrays, may have more dimensions than the two (rows along dimension 1, columns along dimension 2) that most people are familiar with. We will not delve into these here as they are bit more advanced than the goals of this course.</p>


<!-- -->

</section><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{j._smit2021,
  author = {J. Smit, Albertus},
  title = {16. {Base} {R} {Primer}},
  date = {2021-01-01},
  url = {http://tangledbank.netlify.app/BCB744/intro_r/16-base_r.html},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-j._smit2021" class="csl-entry quarto-appendix-citeas" role="listitem">
J. Smit A (2021) 16. Base R Primer. <a href="http://tangledbank.netlify.app/BCB744/intro_r/16-base_r.html">http://tangledbank.netlify.app/BCB744/intro_r/16-base_r.html.
</a>
</div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("http:\/\/tangledbank\.netlify\.app");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../../BCB744/intro_r/15-functions.html" class="pagination-link" aria-label="15. Functions by Chapter">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">15. Functions by Chapter</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../BCB744/intro_r/17-dates.html" class="pagination-link" aria-label="17. Dates">
        <span class="nav-page-text">17. Dates</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb165" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb165-1"><a href="#cb165-1"></a><span class="co">---</span></span>
<span id="cb165-2"><a href="#cb165-2"></a><span class="an">date:</span><span class="co"> "2021-01-01"</span></span>
<span id="cb165-3"><a href="#cb165-3"></a><span class="an">title:</span><span class="co"> "16. Base R Primer"</span></span>
<span id="cb165-4"><a href="#cb165-4"></a><span class="an">subtitle:</span><span class="co"> "The old times"</span></span>
<span id="cb165-5"><a href="#cb165-5"></a><span class="co">---</span></span>
<span id="cb165-6"><a href="#cb165-6"></a></span>
<span id="cb165-7"><a href="#cb165-7"></a>Please note that the following chapter departs from the syntax employed by the **tidyverse**, as utilised throughout this workshop, in favour of the base R syntax. This may be changed in the future, but has been left for now in order to better highlight the fundamental machinations of the R language, upon which the **tidyverse** is based.</span>
<span id="cb165-8"><a href="#cb165-8"></a></span>
<span id="cb165-9"><a href="#cb165-9"></a><span class="fu"># Dataframes</span></span>
<span id="cb165-10"><a href="#cb165-10"></a></span>
<span id="cb165-11"><a href="#cb165-11"></a>The 'workhorse' data-containing structures you will use extensively in R are called *dataframes*. In fact, almost all of the work you do in R will be done directly with dataframes or will involve converting data into a dataframe. A dataframe is used for storing data as tables, with a table defined by a collection of vectors of similar or dissimilar data types but all of the same length. Don't worry if any of those terms are unknown or daunting. We will cover them in detail just now. But first we need to see what a dataframe looks like in order to provide context for all of the parts they consist of. After we have covered all of the terms used for data in R we will learn some methods of creating our own dataframes.</span>
<span id="cb165-12"><a href="#cb165-12"></a></span>
<span id="cb165-13"><a href="#cb165-13"></a>To load a dataframe into R is quite simple when the data are already in the '.Rdata' format. Let's load a small dataframe that was prepared for this class and see. The file extension '.Rdata' does not mean necessarily that the data are in a dataframe (table) format. This file extensions is actually a form of data compression unique to R and could hold anything from a single letter to the results of a complex species distribution model. For the following line of code to work we must make sure we are in the 'Intro_R_Workshop' project.</span>
<span id="cb165-14"><a href="#cb165-14"></a></span>
<span id="cb165-17"><a href="#cb165-17"></a><span class="in">```{r}</span></span>
<span id="cb165-18"><a href="#cb165-18"></a><span class="fu">load</span>(<span class="st">"../../data/intro_data.Rdata"</span>)</span>
<span id="cb165-19"><a href="#cb165-19"></a><span class="in">```</span></span>
<span id="cb165-20"><a href="#cb165-20"></a></span>
<span id="cb165-21"><a href="#cb165-21"></a>Upon loading the data frame we see in the **Environment** tab that there is a little blue circle next to our object. If we click on that we see a summary of each column. First it says what the data type for that column is and then shows the first several values therein.</span>
<span id="cb165-22"><a href="#cb165-22"></a></span>
<span id="cb165-23"><a href="#cb165-23"></a>If you click on the 'intro_data' word in your **Environment** tab it will open it in your **Source Editor** and allow you to click on the columns to organise them by ascending or descending order. Note that this does not change the dataframe, it is only a visual aid.</span>
<span id="cb165-24"><a href="#cb165-24"></a></span>
<span id="cb165-25"><a href="#cb165-25"></a><span class="fu"># Basic data types</span></span>
<span id="cb165-26"><a href="#cb165-26"></a></span>
<span id="cb165-27"><a href="#cb165-27"></a>There are several basic R data types that you frequently encounter in daily work. These include but are not limited to *numeric*, *integer*, *logical*, *character*, *factor* and *date* classes. All of these data types are present in our 'intro_data' dataframe for us to see practical examples. We will create our own examples as we go along.</span>
<span id="cb165-28"><a href="#cb165-28"></a></span>
<span id="cb165-29"><a href="#cb165-29"></a><span class="fu"># Numeric</span></span>
<span id="cb165-30"><a href="#cb165-30"></a></span>
<span id="cb165-31"><a href="#cb165-31"></a>Numeric data with decimal values are called *numeric* in R. It is the default computational data type. If we look at our data frame we see that the following columns are numeric: lon, lat, NA.perc, mean, min and max. What sort of data are these?</span>
<span id="cb165-32"><a href="#cb165-32"></a></span>
<span id="cb165-33"><a href="#cb165-33"></a>Let's create our own numeric object by assigning a decimal value to a variable <span class="in">`x`</span> as follows, <span class="in">`x`</span> will be of numeric type:</span>
<span id="cb165-34"><a href="#cb165-34"></a></span>
<span id="cb165-35"><a href="#cb165-35"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-36"><a href="#cb165-36"></a><span class="in">x &lt;- 1.2 # assign 1.2 to x</span></span>
<span id="cb165-37"><a href="#cb165-37"></a><span class="in">x # print the value of x</span></span>
<span id="cb165-38"><a href="#cb165-38"></a><span class="in">class(x) # what is the class of x?</span></span>
<span id="cb165-39"><a href="#cb165-39"></a><span class="in">```</span></span>
<span id="cb165-40"><a href="#cb165-40"></a></span>
<span id="cb165-41"><a href="#cb165-41"></a>Furthermore, even if we assign a number to a variable <span class="in">`k`</span> that doesn't have a decimal place, it is still being saved as a numeric value:</span>
<span id="cb165-42"><a href="#cb165-42"></a></span>
<span id="cb165-43"><a href="#cb165-43"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-44"><a href="#cb165-44"></a><span class="in">k &lt;- 1</span></span>
<span id="cb165-45"><a href="#cb165-45"></a><span class="in">k</span></span>
<span id="cb165-46"><a href="#cb165-46"></a><span class="in">class(k)</span></span>
<span id="cb165-47"><a href="#cb165-47"></a><span class="in">```</span></span>
<span id="cb165-48"><a href="#cb165-48"></a></span>
<span id="cb165-49"><a href="#cb165-49"></a>If we want to really be certain that <span class="in">`k`</span> is or is not an integer we use <span class="in">`is.integer()`</span>:</span>
<span id="cb165-50"><a href="#cb165-50"></a></span>
<span id="cb165-51"><a href="#cb165-51"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-52"><a href="#cb165-52"></a><span class="in">is.integer(k) # is k an integer?</span></span>
<span id="cb165-53"><a href="#cb165-53"></a><span class="in">```</span></span>
<span id="cb165-54"><a href="#cb165-54"></a></span>
<span id="cb165-55"><a href="#cb165-55"></a><span class="fu"># Integer</span></span>
<span id="cb165-56"><a href="#cb165-56"></a></span>
<span id="cb165-57"><a href="#cb165-57"></a>An *integer* in R is a numeric value that does not have a decimal place. It may only be a round whole number. Integers are often used for count data and when converting qualitative data to numbers for data analysis. In our dataframe we may see that we have two integer columns: depth and length. Why are these integers?</span>
<span id="cb165-58"><a href="#cb165-58"></a></span>
<span id="cb165-59"><a href="#cb165-59"></a>In order to create your own integer variable(s) in R, we use the <span class="in">`as.integer()`</span>. We can be assured that <span class="in">`y`</span> is indeed an integer by checking with <span class="in">`is.integer()`</span>:</span>
<span id="cb165-60"><a href="#cb165-60"></a></span>
<span id="cb165-61"><a href="#cb165-61"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-62"><a href="#cb165-62"></a><span class="in">y &lt;- as.integer(13)</span></span>
<span id="cb165-63"><a href="#cb165-63"></a><span class="in">y</span></span>
<span id="cb165-64"><a href="#cb165-64"></a><span class="in">class(y)</span></span>
<span id="cb165-65"><a href="#cb165-65"></a><span class="in">is.integer(y) # is it an integer?</span></span>
<span id="cb165-66"><a href="#cb165-66"></a><span class="in">```</span></span>
<span id="cb165-67"><a href="#cb165-67"></a></span>
<span id="cb165-68"><a href="#cb165-68"></a>If we really have to, we can coerce a numeric value into an integer with the same <span class="in">`as.integer()`</span> function:</span>
<span id="cb165-69"><a href="#cb165-69"></a></span>
<span id="cb165-70"><a href="#cb165-70"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-71"><a href="#cb165-71"></a><span class="in">z &lt;- as.integer(pi)</span></span>
<span id="cb165-72"><a href="#cb165-72"></a><span class="in">z</span></span>
<span id="cb165-73"><a href="#cb165-73"></a><span class="in">class(z)</span></span>
<span id="cb165-74"><a href="#cb165-74"></a><span class="in">is.integer(z) # is it an integer?</span></span>
<span id="cb165-75"><a href="#cb165-75"></a><span class="in">```</span></span>
<span id="cb165-76"><a href="#cb165-76"></a></span>
<span id="cb165-77"><a href="#cb165-77"></a><span class="fu"># Logical</span></span>
<span id="cb165-78"><a href="#cb165-78"></a></span>
<span id="cb165-79"><a href="#cb165-79"></a>There are several *logic* values in R. We are mostly going to be concerned with the two main values we will be encountering: TRUE and FALSE. Note that all letters must be upper case. In our dataframe we see that only the 'thermo' column is logical. This column tells us whether or not the data were collected with a thermometer or not.</span>
<span id="cb165-80"><a href="#cb165-80"></a></span>
<span id="cb165-81"><a href="#cb165-81"></a>Logical values (<span class="in">`TRUE`</span> or <span class="in">`FALSE`</span>) are often created via comparison between variables:</span>
<span id="cb165-82"><a href="#cb165-82"></a></span>
<span id="cb165-83"><a href="#cb165-83"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-84"><a href="#cb165-84"></a><span class="in">x &lt;- 1; y &lt;- 2 # sample values</span></span>
<span id="cb165-85"><a href="#cb165-85"></a><span class="in">z &lt;- x &gt; y</span></span>
<span id="cb165-86"><a href="#cb165-86"></a><span class="in">z</span></span>
<span id="cb165-87"><a href="#cb165-87"></a><span class="in">class(z)</span></span>
<span id="cb165-88"><a href="#cb165-88"></a><span class="in">```</span></span>
<span id="cb165-89"><a href="#cb165-89"></a></span>
<span id="cb165-90"><a href="#cb165-90"></a>In order to perform logical operations we mostly use <span class="in">`&amp;`</span> (and), <span class="in">`|`</span> (or), and <span class="in">`!`</span> (negation):</span>
<span id="cb165-91"><a href="#cb165-91"></a></span>
<span id="cb165-92"><a href="#cb165-92"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-93"><a href="#cb165-93"></a><span class="in">u &lt;- TRUE; v &lt;- FALSE; w &lt;- TRUE; x &lt;- FALSE</span></span>
<span id="cb165-94"><a href="#cb165-94"></a><span class="in">u &amp; v</span></span>
<span id="cb165-95"><a href="#cb165-95"></a><span class="in">u &amp; w</span></span>
<span id="cb165-96"><a href="#cb165-96"></a><span class="in">v &amp; x</span></span>
<span id="cb165-97"><a href="#cb165-97"></a><span class="in">u | v</span></span>
<span id="cb165-98"><a href="#cb165-98"></a><span class="in">!u</span></span>
<span id="cb165-99"><a href="#cb165-99"></a><span class="in">```</span></span>
<span id="cb165-100"><a href="#cb165-100"></a></span>
<span id="cb165-101"><a href="#cb165-101"></a>Although these logical operators can be immensely useful in more advanced R programming, we will not go into too much detail in this introductory course. For more information on the logical operators, see the R help material:</span>
<span id="cb165-102"><a href="#cb165-102"></a></span>
<span id="cb165-103"><a href="#cb165-103"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-104"><a href="#cb165-104"></a><span class="in">help("&amp;")</span></span>
<span id="cb165-105"><a href="#cb165-105"></a><span class="in">```</span></span>
<span id="cb165-106"><a href="#cb165-106"></a></span>
<span id="cb165-107"><a href="#cb165-107"></a>One final thing to note about logic in R is that it can be useful to perform arithmetic on logical values. <span class="in">`TRUE`</span> has the value 1, while <span class="in">`FALSE`</span> has value 0:</span>
<span id="cb165-108"><a href="#cb165-108"></a></span>
<span id="cb165-109"><a href="#cb165-109"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-110"><a href="#cb165-110"></a><span class="in">as.integer(TRUE) # the numeric value of TRUE</span></span>
<span id="cb165-111"><a href="#cb165-111"></a><span class="in">as.integer(FALSE) # the numeric value of FALSE</span></span>
<span id="cb165-112"><a href="#cb165-112"></a><span class="in">sum(as.integer(intro_data$thermo))</span></span>
<span id="cb165-113"><a href="#cb165-113"></a><span class="in">```</span></span>
<span id="cb165-114"><a href="#cb165-114"></a></span>
<span id="cb165-115"><a href="#cb165-115"></a>What is this telling us?</span>
<span id="cb165-116"><a href="#cb165-116"></a></span>
<span id="cb165-117"><a href="#cb165-117"></a><span class="fu"># Character</span></span>
<span id="cb165-118"><a href="#cb165-118"></a></span>
<span id="cb165-119"><a href="#cb165-119"></a>In our dataframe we see that only the 'src' column has the *character* values. This column is showing us which government body etc. collected the data in that row. At the use of a very familiar word, character, one may think this data type must be the most straightforward. This is not necessarily so as character values are used to represent *string* values in R. Because computers do not understand text the same way we do, they tend to handle this information differently. This allows us to do some pretty wild stuff with character values, but we won't be getting into that in this course as it quickly becomes very technical and generally speaking isn't very useful in a daily application.</span>
<span id="cb165-120"><a href="#cb165-120"></a></span>
<span id="cb165-121"><a href="#cb165-121"></a>If however we wanted to convert an object to a character value we would do so with <span class="in">`as.character()`</span>:</span>
<span id="cb165-122"><a href="#cb165-122"></a></span>
<span id="cb165-123"><a href="#cb165-123"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-124"><a href="#cb165-124"></a><span class="in">d &lt;- as.character(pi)</span></span>
<span id="cb165-125"><a href="#cb165-125"></a><span class="in">class(d)</span></span>
<span id="cb165-126"><a href="#cb165-126"></a><span class="in">```</span></span>
<span id="cb165-127"><a href="#cb165-127"></a></span>
<span id="cb165-128"><a href="#cb165-128"></a>This can be useful if you have data that you want to be characters, but for one reason or another R has decided to make it a different data type.</span>
<span id="cb165-129"><a href="#cb165-129"></a></span>
<span id="cb165-130"><a href="#cb165-130"></a>If you want to join two character objects they can be concatenated with the <span class="in">`paste()`</span> function:</span>
<span id="cb165-131"><a href="#cb165-131"></a></span>
<span id="cb165-132"><a href="#cb165-132"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-133"><a href="#cb165-133"></a><span class="in">a &lt;- "fluffy"; b &lt;- "bunny"</span></span>
<span id="cb165-134"><a href="#cb165-134"></a><span class="in">paste(a, b)</span></span>
<span id="cb165-135"><a href="#cb165-135"></a><span class="in">paste(a, b, sep = "-")</span></span>
<span id="cb165-136"><a href="#cb165-136"></a><span class="in">```</span></span>
<span id="cb165-137"><a href="#cb165-137"></a></span>
<span id="cb165-138"><a href="#cb165-138"></a>More functions for string manipulation can be found in the R documentation --- type <span class="in">`help("sub")`</span> at the command prompt. You may also wish to install Hadley Wickham's nifty **`stringr`** package for more cool ways to work with character strings.</span>
<span id="cb165-139"><a href="#cb165-139"></a></span>
<span id="cb165-140"><a href="#cb165-140"></a><span class="fu"># Factor</span></span>
<span id="cb165-141"><a href="#cb165-141"></a></span>
<span id="cb165-142"><a href="#cb165-142"></a>*Factor* values are somewhat difficult to explain and often even more difficult to understand. Factor values appear the same as character values when we look at them in a spreadsheet. But they are not the same. This will lead to much wailing and gnashing of teeth. So why then do factors exist and why would we use them? Factors allow us to numerically order names non-alphabetically, for example. This then allows one to order a list of research sites in geographical order. </span>
<span id="cb165-143"><a href="#cb165-143"></a></span>
<span id="cb165-144"><a href="#cb165-144"></a>We will see many examples of factors during this course but for now look at the 'site' column in our dataframe. If we click on this column a couple of times we see that it reorders all the data based on ascending or descending order of the sites. But that order is not alphabetical, it is based on the *levels* within the factor column. Each factor value in a column is assigned a level integer value (e.g. 1, 2, 3, 4, etc.). If multiple values in a factor column are the same, they receive the same level value as well.</span>
<span id="cb165-145"><a href="#cb165-145"></a></span>
<span id="cb165-146"><a href="#cb165-146"></a>If we want to see what the levels within a factor column are we use <span class="in">`levels()`</span>:</span>
<span id="cb165-147"><a href="#cb165-147"></a></span>
<span id="cb165-150"><a href="#cb165-150"></a><span class="in">```{r}</span></span>
<span id="cb165-151"><a href="#cb165-151"></a><span class="fu">levels</span>(intro_data<span class="sc">$</span>site)</span>
<span id="cb165-152"><a href="#cb165-152"></a><span class="in">```</span></span>
<span id="cb165-153"><a href="#cb165-153"></a></span>
<span id="cb165-154"><a href="#cb165-154"></a>We will discuss in the next session what that <span class="in">`$`</span> means. But for now, are you able to see what the pattern is in the levels of the site listing?</span>
<span id="cb165-155"><a href="#cb165-155"></a></span>
<span id="cb165-156"><a href="#cb165-156"></a>If we want to create our own factors we will use <span class="in">`as.factor()`</span>:</span>
<span id="cb165-157"><a href="#cb165-157"></a></span>
<span id="cb165-160"><a href="#cb165-160"></a><span class="in">```{r}</span></span>
<span id="cb165-161"><a href="#cb165-161"></a>f <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span>
<span id="cb165-162"><a href="#cb165-162"></a><span class="fu">levels</span>(f)</span>
<span id="cb165-163"><a href="#cb165-163"></a><span class="in">```</span></span>
<span id="cb165-164"><a href="#cb165-164"></a></span>
<span id="cb165-165"><a href="#cb165-165"></a>And if we want to change the order of our factor levels we use <span class="in">`factor()`</span>:</span>
<span id="cb165-166"><a href="#cb165-166"></a></span>
<span id="cb165-169"><a href="#cb165-169"></a><span class="in">```{r}</span></span>
<span id="cb165-170"><a href="#cb165-170"></a>f <span class="ot">&lt;-</span> <span class="fu">factor</span>(f, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"b"</span>, <span class="st">"a"</span>, <span class="st">"c"</span>, <span class="st">"e"</span>, <span class="st">"d"</span>))</span>
<span id="cb165-171"><a href="#cb165-171"></a><span class="fu">levels</span>(f)</span>
<span id="cb165-172"><a href="#cb165-172"></a><span class="in">```</span></span>
<span id="cb165-173"><a href="#cb165-173"></a></span>
<span id="cb165-174"><a href="#cb165-174"></a>Another reason for using factors to re-order our data, as we shall see tomorrow, is that this allows us to control the order in which values are plotted.</span>
<span id="cb165-175"><a href="#cb165-175"></a></span>
<span id="cb165-176"><a href="#cb165-176"></a><span class="fu"># Dates</span></span>
<span id="cb165-177"><a href="#cb165-177"></a></span>
<span id="cb165-178"><a href="#cb165-178"></a>See the next chapter about dates.</span>
<span id="cb165-179"><a href="#cb165-179"></a></span>
<span id="cb165-180"><a href="#cb165-180"></a><span class="al">![Dates.](/collection/intro_r/chapters/16-base_r_files/Dried-dates.webp)</span>{width=80%}</span>
<span id="cb165-181"><a href="#cb165-181"></a></span>
<span id="cb165-182"><a href="#cb165-182"></a><span class="fu"># Vectors</span></span>
<span id="cb165-183"><a href="#cb165-183"></a></span>
<span id="cb165-184"><a href="#cb165-184"></a>A vector, by definition, is a one-dimensional sequence of data elements of the same basic type (class). Members in a vector are officially called components. Basically, a vector is a column. Indeed, a dataframe is nothing more than a collection of vectors stuck together. If we wanted to create a vector from our dataframe we would do this:</span>
<span id="cb165-185"><a href="#cb165-185"></a></span>
<span id="cb165-188"><a href="#cb165-188"></a><span class="in">```{r}</span></span>
<span id="cb165-189"><a href="#cb165-189"></a>lonely_vector <span class="ot">&lt;-</span> intro_data<span class="sc">$</span>NA.perc</span>
<span id="cb165-190"><a href="#cb165-190"></a><span class="in">```</span></span>
<span id="cb165-191"><a href="#cb165-191"></a></span>
<span id="cb165-192"><a href="#cb165-192"></a>Notice that we may not click on the object <span class="in">`lonely_vector`</span> in our **Environment** tab. This is because it is no longer two-dimensional. If we want to visualise the data we need to enter it into the console or run it from our script:</span>
<span id="cb165-193"><a href="#cb165-193"></a></span>
<span id="cb165-196"><a href="#cb165-196"></a><span class="in">```{r}</span></span>
<span id="cb165-197"><a href="#cb165-197"></a>lonely_vector</span>
<span id="cb165-198"><a href="#cb165-198"></a><span class="in">```</span></span>
<span id="cb165-199"><a href="#cb165-199"></a></span>
<span id="cb165-200"><a href="#cb165-200"></a>Let's create some vectors of our own:</span>
<span id="cb165-201"><a href="#cb165-201"></a></span>
<span id="cb165-202"><a href="#cb165-202"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-203"><a href="#cb165-203"></a><span class="in">primes1 &lt;- c(3, 5, 7)</span></span>
<span id="cb165-204"><a href="#cb165-204"></a><span class="in">primes1</span></span>
<span id="cb165-205"><a href="#cb165-205"></a><span class="in">class(primes1)</span></span>
<span id="cb165-206"><a href="#cb165-206"></a></span>
<span id="cb165-207"><a href="#cb165-207"></a><span class="in">p1 &lt;- pi</span></span>
<span id="cb165-208"><a href="#cb165-208"></a><span class="in">p2 &lt;- 5</span></span>
<span id="cb165-209"><a href="#cb165-209"></a><span class="in">p3 &lt;- 7</span></span>
<span id="cb165-210"><a href="#cb165-210"></a></span>
<span id="cb165-211"><a href="#cb165-211"></a><span class="in">primes2 &lt;- c(p1, p2, p3)</span></span>
<span id="cb165-212"><a href="#cb165-212"></a><span class="in">primes2</span></span>
<span id="cb165-213"><a href="#cb165-213"></a><span class="in">class(primes2)</span></span>
<span id="cb165-214"><a href="#cb165-214"></a><span class="in">is.numeric(primes2)</span></span>
<span id="cb165-215"><a href="#cb165-215"></a><span class="in">is.integer(primes2) # integers coerced into floating point numbers</span></span>
<span id="cb165-216"><a href="#cb165-216"></a><span class="in">```</span></span>
<span id="cb165-217"><a href="#cb165-217"></a></span>
<span id="cb165-218"><a href="#cb165-218"></a>We can also have vectors of logical values or character strings, and we can use the function <span class="in">`length()`</span> to see how many components each has:</span>
<span id="cb165-219"><a href="#cb165-219"></a></span>
<span id="cb165-220"><a href="#cb165-220"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-221"><a href="#cb165-221"></a><span class="in">tf &lt;- c(TRUE, FALSE, TRUE, FALSE, FALSE)</span></span>
<span id="cb165-222"><a href="#cb165-222"></a><span class="in">tf</span></span>
<span id="cb165-223"><a href="#cb165-223"></a><span class="in">length(tf)</span></span>
<span id="cb165-224"><a href="#cb165-224"></a><span class="in">cs &lt;- c("Mary", "has", "a", "silly", "lamb")</span></span>
<span id="cb165-225"><a href="#cb165-225"></a><span class="in">cs</span></span>
<span id="cb165-226"><a href="#cb165-226"></a><span class="in">length(cs)</span></span>
<span id="cb165-227"><a href="#cb165-227"></a><span class="in">```</span></span>
<span id="cb165-228"><a href="#cb165-228"></a></span>
<span id="cb165-229"><a href="#cb165-229"></a>Of course one would seldom enter data into R using the <span class="in">`c()`</span> (combine) function, but it is useful for short calculations. More often than not one would import data from Excel (urgh!) or something more reputable. The kinds of data one can read into R are remarkable. We will get to that later on.</span>
<span id="cb165-230"><a href="#cb165-230"></a></span>
<span id="cb165-231"><a href="#cb165-231"></a>We can also combine vectors in many ways, and the simplest way is the append one after the other:</span>
<span id="cb165-232"><a href="#cb165-232"></a></span>
<span id="cb165-233"><a href="#cb165-233"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-234"><a href="#cb165-234"></a><span class="in">primes12 &lt;- c(primes1, primes2)</span></span>
<span id="cb165-235"><a href="#cb165-235"></a><span class="in">primes12</span></span>
<span id="cb165-236"><a href="#cb165-236"></a></span>
<span id="cb165-237"><a href="#cb165-237"></a><span class="in">nonSense &lt;- c(primes12, cs)</span></span>
<span id="cb165-238"><a href="#cb165-238"></a><span class="in">nonSense</span></span>
<span id="cb165-239"><a href="#cb165-239"></a><span class="in">class(nonSense)</span></span>
<span id="cb165-240"><a href="#cb165-240"></a><span class="in">```</span></span>
<span id="cb165-241"><a href="#cb165-241"></a></span>
<span id="cb165-242"><a href="#cb165-242"></a>In the code fragment above, notice how the numeric values are being coerced into character strings when the two vectors of dissimilar class are combined. This is necessary so as to maintain the same primitive data type for members in the same vector.</span>
<span id="cb165-243"><a href="#cb165-243"></a></span>
<span id="cb165-244"><a href="#cb165-244"></a><span class="fu"># Vector indices</span></span>
<span id="cb165-245"><a href="#cb165-245"></a></span>
<span id="cb165-246"><a href="#cb165-246"></a>What if we want to extract one or a few components from the vector? Easy... We retrieve values in a vector by declaring an index inside a single square bracket <span class="in">`[]`</span> operator. For example, the following shows how to retrieve a vector component. Since the vector index is 1-based (*i.e.* the first component in a vector is numbered <span class="in">`1`</span>), we use the index position <span class="in">`7`</span> for retrieving the seventh member:</span>
<span id="cb165-247"><a href="#cb165-247"></a></span>
<span id="cb165-248"><a href="#cb165-248"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-249"><a href="#cb165-249"></a><span class="in">nonSense[7] # find the seventh component in the vector</span></span>
<span id="cb165-250"><a href="#cb165-250"></a><span class="in"># or combine them in interesting ways...</span></span>
<span id="cb165-251"><a href="#cb165-251"></a><span class="in">paste(nonSense[7], nonSense[8], nonSense[4], nonSense[10], "bunnies", sep = " ")</span></span>
<span id="cb165-252"><a href="#cb165-252"></a><span class="in">```</span></span>
<span id="cb165-253"><a href="#cb165-253"></a></span>
<span id="cb165-254"><a href="#cb165-254"></a>If the index given is negative, it will remove the value whose position has the same absolute value as the negative index. For example, the following creates a vector slice with the third member removed. However, if an index is out-of-range, a missing value will be reported via the symbol <span class="in">`NA`</span>:</span>
<span id="cb165-255"><a href="#cb165-255"></a></span>
<span id="cb165-256"><a href="#cb165-256"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-257"><a href="#cb165-257"></a><span class="in">a &lt;- c(2, 6, 3, 8, 13)</span></span>
<span id="cb165-258"><a href="#cb165-258"></a><span class="in">a</span></span>
<span id="cb165-259"><a href="#cb165-259"></a><span class="in">a[-3]</span></span>
<span id="cb165-260"><a href="#cb165-260"></a><span class="in">a[10]</span></span>
<span id="cb165-261"><a href="#cb165-261"></a><span class="in">```</span></span>
<span id="cb165-262"><a href="#cb165-262"></a></span>
<span id="cb165-263"><a href="#cb165-263"></a><span class="fu"># Vector creation</span></span>
<span id="cb165-264"><a href="#cb165-264"></a></span>
<span id="cb165-265"><a href="#cb165-265"></a>R has many funky ways of creating vectors. This process is important to understand because we will need to build on it to create our own dataframes. Here are some examples of vector creation:</span>
<span id="cb165-266"><a href="#cb165-266"></a></span>
<span id="cb165-267"><a href="#cb165-267"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-268"><a href="#cb165-268"></a><span class="in">seq(1:10) # assign them to a variable if you want to...</span></span>
<span id="cb165-269"><a href="#cb165-269"></a><span class="in">seq(from = 0, to = 100, by = 10)</span></span>
<span id="cb165-270"><a href="#cb165-270"></a><span class="in">seq(0, 100, len = 10) # one may omit from and to</span></span>
<span id="cb165-271"><a href="#cb165-271"></a><span class="in">seq(1, 9, by = pi)</span></span>
<span id="cb165-272"><a href="#cb165-272"></a><span class="in">rep(13, times = 13)</span></span>
<span id="cb165-273"><a href="#cb165-273"></a><span class="in">rep(seq(1:5), times = 6)</span></span>
<span id="cb165-274"><a href="#cb165-274"></a><span class="in">a &lt;- rnorm(20, mean = 13, sd = 0.13) # random numbers with known mean and sd</span></span>
<span id="cb165-275"><a href="#cb165-275"></a><span class="in">rep(a, 5) # one may omit the times argument</span></span>
<span id="cb165-276"><a href="#cb165-276"></a><span class="in">rep(c("A", "B", "C"), 3)</span></span>
<span id="cb165-277"><a href="#cb165-277"></a><span class="in">rep(c("A", "B", "C"), each = 3)</span></span>
<span id="cb165-278"><a href="#cb165-278"></a><span class="in">x &lt;- c("01-31-1960", "02-13-1960", "06-23-1977", "01-01-2013")</span></span>
<span id="cb165-279"><a href="#cb165-279"></a><span class="in">class(x)</span></span>
<span id="cb165-280"><a href="#cb165-280"></a><span class="in">z &lt;- as.Date(x, "%m-%d-%Y")</span></span>
<span id="cb165-281"><a href="#cb165-281"></a><span class="in">class(z) # introducing the date class</span></span>
<span id="cb165-282"><a href="#cb165-282"></a><span class="in">seq(as.Date("2013-12-30"), as.Date("2014-01-04"), by = "days")</span></span>
<span id="cb165-283"><a href="#cb165-283"></a><span class="in">seq(as.Date("2013-12-01"), as.Date("2016-01-31"), by = "months")</span></span>
<span id="cb165-284"><a href="#cb165-284"></a><span class="in">seq(as.Date("2000/1/1"), by = "month", length.out = 12)</span></span>
<span id="cb165-285"><a href="#cb165-285"></a><span class="in"># and many more...</span></span>
<span id="cb165-286"><a href="#cb165-286"></a><span class="in">```</span></span>
<span id="cb165-287"><a href="#cb165-287"></a></span>
<span id="cb165-288"><a href="#cb165-288"></a><span class="fu"># Vector arithmetic</span></span>
<span id="cb165-289"><a href="#cb165-289"></a></span>
<span id="cb165-290"><a href="#cb165-290"></a>Arithmetic operations of vectors are performed component-by-component, *i.e.*, componentwise. For example, suppose we have vectors <span class="in">`a`</span> and <span class="in">`b`</span>:</span>
<span id="cb165-291"><a href="#cb165-291"></a></span>
<span id="cb165-292"><a href="#cb165-292"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-293"><a href="#cb165-293"></a><span class="in">a &lt;- c(1, 3, 5, 7)</span></span>
<span id="cb165-294"><a href="#cb165-294"></a><span class="in">b &lt;- c(1, 2, 4, 8)</span></span>
<span id="cb165-295"><a href="#cb165-295"></a><span class="in">```</span></span>
<span id="cb165-296"><a href="#cb165-296"></a></span>
<span id="cb165-297"><a href="#cb165-297"></a>Then we multiply <span class="in">`a`</span> by <span class="in">`5`</span>...</span>
<span id="cb165-298"><a href="#cb165-298"></a></span>
<span id="cb165-299"><a href="#cb165-299"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-300"><a href="#cb165-300"></a><span class="in">a * 5</span></span>
<span id="cb165-301"><a href="#cb165-301"></a><span class="in">```</span></span>
<span id="cb165-302"><a href="#cb165-302"></a></span>
<span id="cb165-303"><a href="#cb165-303"></a>... and see that each component of <span class="in">`a`</span> is multiplied by <span class="in">`5`</span>. In other words, the shorter vector (here <span class="in">`5`</span>) is recycled. Now multiply <span class="in">`a`</span> with <span class="in">`b`</span>...</span>
<span id="cb165-304"><a href="#cb165-304"></a></span>
<span id="cb165-305"><a href="#cb165-305"></a><span class="in">```{r echo=TRUE, error=TRUE}</span></span>
<span id="cb165-306"><a href="#cb165-306"></a><span class="in">a * b</span></span>
<span id="cb165-307"><a href="#cb165-307"></a><span class="in">```</span></span>
<span id="cb165-308"><a href="#cb165-308"></a></span>
<span id="cb165-309"><a href="#cb165-309"></a>...and we see that the components in one vector matches those in the other one-for-one. Similarly for subtraction, addition and division, we get new vectors via componentwise operations. Try this here now a few times with your own vectors.</span>
<span id="cb165-310"><a href="#cb165-310"></a></span>
<span id="cb165-311"><a href="#cb165-311"></a>But what if one vector is somewhat shorter than the other? The *recycling rule* comes into play. If two vectors are of unequal length, the shorter one will be recycled in order to match the longer vector. For example, the following vectors <span class="in">`u`</span> and <span class="in">`v`</span> have different lengths, and their sum is computed by recycling values of the shorter vector <span class="in">`u`</span>:</span>
<span id="cb165-312"><a href="#cb165-312"></a></span>
<span id="cb165-313"><a href="#cb165-313"></a><span class="in">```{r echo=TRUE, error=TRUE, warning=TRUE}</span></span>
<span id="cb165-314"><a href="#cb165-314"></a><span class="in">v &lt;- rep(2, len = 13)</span></span>
<span id="cb165-315"><a href="#cb165-315"></a><span class="in">u &lt;- rep(c(1, 20), len = 5)</span></span>
<span id="cb165-316"><a href="#cb165-316"></a><span class="in">v + u</span></span>
<span id="cb165-317"><a href="#cb165-317"></a><span class="in">```</span></span>
<span id="cb165-318"><a href="#cb165-318"></a></span>
<span id="cb165-319"><a href="#cb165-319"></a><span class="fu"># Dataframe creation</span></span>
<span id="cb165-320"><a href="#cb165-320"></a></span>
<span id="cb165-321"><a href="#cb165-321"></a>The most rudimentary way to create a dataframe is to create several vectors and then assemble them into a dataframe using <span class="in">`cbind()`</span> --- this is a function that combines by *c*olumn. For instance:</span>
<span id="cb165-322"><a href="#cb165-322"></a></span>
<span id="cb165-325"><a href="#cb165-325"></a><span class="in">```{r}</span></span>
<span id="cb165-326"><a href="#cb165-326"></a><span class="co"># create three vectors of different types</span></span>
<span id="cb165-327"><a href="#cb165-327"></a>vec1 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="at">each =</span> <span class="dv">5</span>) <span class="co"># a character vector (a facctor)</span></span>
<span id="cb165-328"><a href="#cb165-328"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">seq.Date</span>(<span class="at">from =</span> <span class="fu">as.Date</span>(<span class="st">"1981-01-01"</span>), <span class="at">by =</span> <span class="st">"day"</span>, </span>
<span id="cb165-329"><a href="#cb165-329"></a>                 <span class="at">length.out =</span> <span class="fu">length</span>(vec1)) <span class="co"># date vector</span></span>
<span id="cb165-330"><a href="#cb165-330"></a>vec3 <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="fu">length</span>(vec1), <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="fl">0.35</span>) <span class="co"># numeric vector</span></span>
<span id="cb165-331"><a href="#cb165-331"></a><span class="co"># now assemble dataframe</span></span>
<span id="cb165-332"><a href="#cb165-332"></a>df1 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(vec1, vec2, vec3)</span>
<span id="cb165-333"><a href="#cb165-333"></a><span class="fu">head</span>(df1)</span>
<span id="cb165-334"><a href="#cb165-334"></a><span class="in">```</span></span>
<span id="cb165-335"><a href="#cb165-335"></a></span>
<span id="cb165-336"><a href="#cb165-336"></a>Another way to achieve the same thing is to use the <span class="in">`data.frame()`</span> function that will allow you to achieve all of the above steps at once. Here is the example:</span>
<span id="cb165-337"><a href="#cb165-337"></a></span>
<span id="cb165-340"><a href="#cb165-340"></a><span class="in">```{r}</span></span>
<span id="cb165-341"><a href="#cb165-341"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">vec1 =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="at">each =</span> <span class="dv">5</span>),</span>
<span id="cb165-342"><a href="#cb165-342"></a>                  <span class="at">vec2 =</span> <span class="fu">seq.Date</span>(<span class="at">from =</span> <span class="fu">as.Date</span>(<span class="st">"1981-01-01"</span>), <span class="at">by =</span> <span class="st">"day"</span>, </span>
<span id="cb165-343"><a href="#cb165-343"></a>                                  <span class="at">length.out =</span> <span class="fu">length</span>(vec1)),</span>
<span id="cb165-344"><a href="#cb165-344"></a>                  <span class="at">vec3 =</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="fu">length</span>(vec1), <span class="at">mean =</span> <span class="dv">2</span>, <span class="at">sd =</span> <span class="fl">0.75</span>))</span>
<span id="cb165-345"><a href="#cb165-345"></a><span class="fu">head</span>(df2, <span class="dv">2</span>)</span>
<span id="cb165-346"><a href="#cb165-346"></a><span class="in">```</span></span>
<span id="cb165-347"><a href="#cb165-347"></a></span>
<span id="cb165-348"><a href="#cb165-348"></a>What about the names of the dataframe that you just created? Are you happy that they are descriptive enough? If you aren't, don't fear. There are several different ways in which we can change it. We can assign the existing separate vectors <span class="in">`vec1`</span>, <span class="in">`vec2`</span> and <span class="in">`vec3`</span> to more user-friendly names using the <span class="in">`data.frame()`</span> function, like this:</span>
<span id="cb165-349"><a href="#cb165-349"></a></span>
<span id="cb165-352"><a href="#cb165-352"></a><span class="in">```{r}</span></span>
<span id="cb165-353"><a href="#cb165-353"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">level =</span> vec1,</span>
<span id="cb165-354"><a href="#cb165-354"></a>                  <span class="at">sample.date =</span> vec2,</span>
<span id="cb165-355"><a href="#cb165-355"></a>                  <span class="at">measurement =</span> vec3)</span>
<span id="cb165-356"><a href="#cb165-356"></a><span class="fu">head</span>(df1, <span class="dv">2</span>)</span>
<span id="cb165-357"><a href="#cb165-357"></a><span class="in">```</span></span>
<span id="cb165-358"><a href="#cb165-358"></a></span>
<span id="cb165-359"><a href="#cb165-359"></a>Another way is to change the name after you have created the dataframe using the <span class="in">`colnames()`</span> assignment function, as in:</span>
<span id="cb165-360"><a href="#cb165-360"></a></span>
<span id="cb165-363"><a href="#cb165-363"></a><span class="in">```{r}</span></span>
<span id="cb165-364"><a href="#cb165-364"></a><span class="fu">colnames</span>(df2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"level"</span>, <span class="st">"sample.date"</span>, <span class="st">"measurement"</span>)</span>
<span id="cb165-365"><a href="#cb165-365"></a><span class="fu">head</span>(df2, <span class="dv">2</span>)</span>
<span id="cb165-366"><a href="#cb165-366"></a><span class="fu">names</span>(df2)</span>
<span id="cb165-367"><a href="#cb165-367"></a><span class="in">```</span></span>
<span id="cb165-368"><a href="#cb165-368"></a></span>
<span id="cb165-369"><a href="#cb165-369"></a>Dataframes are very versatile and we can do many operations on them. A common requirement is to add a column to a dataframe that contains the outcome of some calculation. We could create a new column in the dataframe 'on the fly', as in:</span>
<span id="cb165-370"><a href="#cb165-370"></a></span>
<span id="cb165-373"><a href="#cb165-373"></a><span class="in">```{r}</span></span>
<span id="cb165-374"><a href="#cb165-374"></a>df2<span class="fl">.1</span> <span class="ot">&lt;-</span> df1 <span class="co"># copy the dataframe</span></span>
<span id="cb165-375"><a href="#cb165-375"></a>df2<span class="fl">.1</span><span class="sc">$</span>meas.anom <span class="ot">&lt;-</span> df1<span class="sc">$</span>measurement <span class="sc">-</span> <span class="fu">mean</span>(df1<span class="sc">$</span>measurement)</span>
<span id="cb165-376"><a href="#cb165-376"></a>df2<span class="fl">.1</span><span class="sc">$</span>meas.diff <span class="ot">&lt;-</span> df2<span class="fl">.1</span><span class="sc">$</span>measurement <span class="sc">-</span> df2<span class="fl">.1</span><span class="sc">$</span>meas.anom</span>
<span id="cb165-377"><a href="#cb165-377"></a><span class="fu">head</span>(df2<span class="fl">.1</span>, <span class="dv">2</span>)</span>
<span id="cb165-378"><a href="#cb165-378"></a><span class="in">```</span></span>
<span id="cb165-379"><a href="#cb165-379"></a></span>
<span id="cb165-380"><a href="#cb165-380"></a>We can also combine dataframes in different ways. Perhaps you have two (or more) dataframe that conform to the same layout, *i.e.* they have the same number of columns (although the length of the dataframes may differ), they have the same data type in those columns and the names of those columns are the same. Also, the order of the columns must be identical in all the dataframes. Two separate dataframe with the same structure may, for example, result from two identical experiments that were repeated at different times. We can then stack one on top (*e.g.* combine our experiments) of the other using the *r*ow bind function <span class="in">`rbind()`</span>, as in:</span>
<span id="cb165-381"><a href="#cb165-381"></a></span>
<span id="cb165-384"><a href="#cb165-384"></a><span class="in">```{r}</span></span>
<span id="cb165-385"><a href="#cb165-385"></a><span class="fu">nrow</span>(df1) <span class="co"># check the number of rows first</span></span>
<span id="cb165-386"><a href="#cb165-386"></a><span class="fu">nrow</span>(df2)</span>
<span id="cb165-387"><a href="#cb165-387"></a>df3 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df1, df2)</span>
<span id="cb165-388"><a href="#cb165-388"></a><span class="fu">nrow</span>(df3) <span class="co"># number of rows in the combined dataframe</span></span>
<span id="cb165-389"><a href="#cb165-389"></a><span class="fu">head</span>(df3, <span class="dv">2</span>)</span>
<span id="cb165-390"><a href="#cb165-390"></a><span class="in">```</span></span>
<span id="cb165-391"><a href="#cb165-391"></a></span>
<span id="cb165-392"><a href="#cb165-392"></a>But now how do we know how the portions of the stacked dataframe relate to the experiments that resulted in the data in the first place? There is no label to distinguish one experiment from the other. We can fix this by adding a new column to the stacked dataframe that contains the coding for the two experiments. We can achieve it like this:</span>
<span id="cb165-393"><a href="#cb165-393"></a></span>
<span id="cb165-396"><a href="#cb165-396"></a><span class="in">```{r}</span></span>
<span id="cb165-397"><a href="#cb165-397"></a>df3<span class="sc">$</span>exp.no <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"exp1"</span>, <span class="st">"exp2"</span>), <span class="at">each =</span> <span class="fu">nrow</span>(df1))</span>
<span id="cb165-398"><a href="#cb165-398"></a><span class="fu">head</span>(df3, <span class="dv">2</span>)</span>
<span id="cb165-399"><a href="#cb165-399"></a><span class="fu">tail</span>(df3, <span class="dv">2</span>)</span>
<span id="cb165-400"><a href="#cb165-400"></a><span class="in">```</span></span>
<span id="cb165-401"><a href="#cb165-401"></a></span>
<span id="cb165-402"><a href="#cb165-402"></a>\begin{mybox}{}{DIY: Make your own dataframes}</span>
<span id="cb165-403"><a href="#cb165-403"></a>For this task, please create two 'stackable' dataframes, but each with a different number of rows. Then stack them and assign an 'index column' so that the two original dataframes can easily be distinguished from one-another in the combined dataframe.</span>
<span id="cb165-404"><a href="#cb165-404"></a>\end{mybox}</span>
<span id="cb165-405"><a href="#cb165-405"></a></span>
<span id="cb165-406"><a href="#cb165-406"></a>We can combine dataframes in another way --- that is, bind columns side-by-side using the function <span class="in">`cbind()`</span>. We used it before to place vectors of the same length next to each other to create a dataframe. This function is similar to <span class="in">`rbind()`</span>, but where <span class="in">`rbind()`</span> fusses over the names of the columns, <span class="in">`cbind()`</span> does not. What does concern <span class="in">`cbind()`</span>, however, is that the number of rows in the two (or more) dataframes that will be 'glued' side-by-side is the same. Try it yourself with your own dataframes.</span>
<span id="cb165-407"><a href="#cb165-407"></a></span>
<span id="cb165-408"><a href="#cb165-408"></a><span class="fu"># Dataframe indices</span></span>
<span id="cb165-409"><a href="#cb165-409"></a></span>
<span id="cb165-410"><a href="#cb165-410"></a>Remember that weird <span class="in">`$`</span> symbol we saw a little while ago? That symbol tells R that you want to see a column (vector) within a dataframe. For example, if we wanted to perform an operation on only one column in <span class="in">`intro_data`</span> in order to ascertain the mean depth (m) of sampling:</span>
<span id="cb165-411"><a href="#cb165-411"></a></span>
<span id="cb165-414"><a href="#cb165-414"></a><span class="in">```{r}</span></span>
<span id="cb165-415"><a href="#cb165-415"></a><span class="fu">round</span>(<span class="fu">mean</span>(intro_data<span class="sc">$</span>depth),<span class="dv">2</span>)</span>
<span id="cb165-416"><a href="#cb165-416"></a><span class="in">```</span></span>
<span id="cb165-417"><a href="#cb165-417"></a></span>
<span id="cb165-418"><a href="#cb165-418"></a>If we want to subset only specific values in a dataframe, as we have seen how to do with vectors, we need to consider that we are now working with two dimensions and not one. We still use <span class="in">`[]`</span> but now we must do a little extra. If we want to see how long the time series for Sodwana is we could do this in several ways, here are the three most common in an improving order:</span>
<span id="cb165-419"><a href="#cb165-419"></a></span>
<span id="cb165-422"><a href="#cb165-422"></a><span class="in">```{r}</span></span>
<span id="cb165-423"><a href="#cb165-423"></a><span class="co"># Subset a dataframe using [,]</span></span>
<span id="cb165-424"><a href="#cb165-424"></a>intro_data[<span class="dv">12</span>,<span class="dv">9</span>]</span>
<span id="cb165-425"><a href="#cb165-425"></a></span>
<span id="cb165-426"><a href="#cb165-426"></a><span class="co"># Subset only one column using []</span></span>
<span id="cb165-427"><a href="#cb165-427"></a>intro_data<span class="sc">$</span>length[<span class="dv">12</span>]</span>
<span id="cb165-428"><a href="#cb165-428"></a></span>
<span id="cb165-429"><a href="#cb165-429"></a><span class="co"># Subset from one column using logic for another column</span></span>
<span id="cb165-430"><a href="#cb165-430"></a>intro_data<span class="sc">$</span>length[intro_data<span class="sc">$</span>site <span class="sc">==</span> <span class="st">"Sodwana"</span>]</span>
<span id="cb165-431"><a href="#cb165-431"></a><span class="in">```</span></span>
<span id="cb165-432"><a href="#cb165-432"></a></span>
<span id="cb165-433"><a href="#cb165-433"></a>The important thing to remember here is that when one needs to use a comma when subsetting, the row number is always on the left, and the column number is always on the right. Rows then columns! Tattoo that onto your brain. Or fore-arm if you are the adventurous type. We will go into the subsetting and analysis of dataframes in much more detail in the following session.</span>
<span id="cb165-434"><a href="#cb165-434"></a></span>
<span id="cb165-435"><a href="#cb165-435"></a>One must keep in mind that data in R can become substantially more complex than what we have covered, and the software also distinguishes several other kinds of data 'containers': in addition to vectors and dataframes, we also have *lists*, *matrices*, *time series* and *arrays*. The more complex ones, such as arrays, may have more dimensions than the two (rows along dimension 1, columns along dimension 2) that most people are familiar with. We will not delve into these here as they are bit more advanced than the goals of this course.</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Â© 2024, AJ Smit</p>
</div>   
    <div class="nav-footer-center">

<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/ajsmit/tangled_bank/edit/main/BCB744/intro_r/16-base_r.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ajsmit/tangled_bank/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
<p><span class="faux-block">Made with <i class="fa-brands fa-r-project" aria-label="r-project"></i> and <a href="https://quarto.org/">Quarto</a></span> <span class="faux-block"><a href="?var:github-url">View the source at <i class="fa-brands fa-github" aria-label="github"></i> GitHub</a></span></p>
</div>
  </div>
</footer>


<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>