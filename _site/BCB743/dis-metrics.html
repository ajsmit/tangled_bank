<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.4">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="AJ Smit">
<meta name="dcterms.date" content="2024-06-24">

<title>Distance and Dissimilarities Metrics – The Tangled Bank</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/favicon.ico" rel="icon">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SCYH68M489"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-SCYH68M489', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"headline",
  "consent_type":"express",
  "palette":"dark",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  
<style>html{ scroll-behavior: smooth; }</style>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta property="og:title" content="Distance and Dissimilarities Metrics – The Tangled Bank">
<meta property="og:description" content="">
<meta property="og:image" content="https://tangledbank.netlify.app/BCB743/data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==">
<meta property="og:site_name" content="The Tangled Bank">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">The Tangled Bank</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-vignettes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Vignettes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-vignettes">    
        <li>
    <a class="dropdown-item" href="../vignettes/netCDF_dates.html">
 <span class="dropdown-text">Dates From netCDF Files: Two Approaches</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/prep_NOAA_OISST.html">
 <span class="dropdown-text">Downloading and Prep: ERDDAP</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/chl_ERDDAP.html">
 <span class="dropdown-text">Retrieving Chlorophyll-a Data from ERDDAP Servers</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/alt_method.html">
 <span class="dropdown-text">Downloading and Prep: Python + CDO</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/gridded_data.html">
 <span class="dropdown-text">Detecting Events in Gridded Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/regridding.html">
 <span class="dropdown-text">Regridding gridded data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/MHW_MCS_horizonplots.html">
 <span class="dropdown-text">Displaying MHWs and MCSs as Horizon Plots</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/heatwaveR_issues.html">
 <span class="dropdown-text">heatwaveR Issues</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/chl_sightings.html">
 <span class="dropdown-text">Plotting the Whale Sightings and Chlorophyll-<em>a</em> Concentrations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/chl_localisation.html">
 <span class="dropdown-text">Spatial Localisation, Subsetting, and Aggregation of the Chlorophyll-<em>a</em> Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/elem_ts_methods.html">
 <span class="dropdown-text">Wavelet Analysis of Diatom Time Series</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/buffer_data_extract.html">
 <span class="dropdown-text">Extracting gridded data within a buffer</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-high-performace-computing" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">High-Performace Computing</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-high-performace-computing">    
        <li>
    <a class="dropdown-item" href="../vignettes/README_Lengau.html">
 <span class="dropdown-text">Using Lengau</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/PBSPro_users.html">
 <span class="dropdown-text">PBSPro user and job management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../vignettes/README_tmux.html">
 <span class="dropdown-text">Using tmux</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">Tangled Bank Blog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-blogroll" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Blogroll</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-blogroll">    
        <li>
    <a class="dropdown-item" href="https://www.r-bloggers.com">
 <span class="dropdown-text">R-bloggers</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="../blog.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">    
        <li>
    <a class="dropdown-item" href="https://github.com/ajsmit/tangled_bank">
 <span class="dropdown-text">Source Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://bugs.com">
 <span class="dropdown-text">Report a Bug</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#bray-curtis-dissimilarity" id="toc-bray-curtis-dissimilarity" class="nav-link active" data-scroll-target="#bray-curtis-dissimilarity"><span class="header-section-number">1</span> Bray-Curtis Dissimilarity</a></li>
  <li><a href="#sørensen-dice-dissimilarity" id="toc-sørensen-dice-dissimilarity" class="nav-link" data-scroll-target="#sørensen-dice-dissimilarity"><span class="header-section-number">2</span> Sørensen (Dice) Dissimilarity</a></li>
  <li><a href="#jaccard-index" id="toc-jaccard-index" class="nav-link" data-scroll-target="#jaccard-index"><span class="header-section-number">3</span> Jaccard Index</a></li>
  <li><a href="#hellinger-distance" id="toc-hellinger-distance" class="nav-link" data-scroll-target="#hellinger-distance"><span class="header-section-number">4</span> Hellinger Distance</a></li>
  <li><a href="#gower-distance" id="toc-gower-distance" class="nav-link" data-scroll-target="#gower-distance"><span class="header-section-number">5</span> Gower Distance</a></li>
  <li><a href="#euclidean-distance" id="toc-euclidean-distance" class="nav-link" data-scroll-target="#euclidean-distance"><span class="header-section-number">6</span> Euclidean Distance</a></li>
  <li><a href="#manhattan-distance" id="toc-manhattan-distance" class="nav-link" data-scroll-target="#manhattan-distance"><span class="header-section-number">7</span> Manhattan Distance</a></li>
  <li><a href="#canberra-distance" id="toc-canberra-distance" class="nav-link" data-scroll-target="#canberra-distance"><span class="header-section-number">8</span> Canberra Distance</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/ajsmit/tangled_bank/edit/main/BCB743/dis-metrics.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ajsmit/tangled_bank/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Distance and Dissimilarities Metrics</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://ajsmit.netlify.app">AJ Smit</a> <a href="https://orcid.org/0000-0002-3799-6126" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://uwc.ac.za">
            University of the Western Cape
            </a>
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 24, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><strong>vegan</strong> provides a variety of distance and dissimilarity measures through the <code>vegdist()</code> function. Here is some background on some commonly used distance and dissimilarity measures that you might find useful.</p>
<section id="bray-curtis-dissimilarity" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="bray-curtis-dissimilarity"><span class="header-section-number">1</span> Bray-Curtis Dissimilarity</h2>
<ul>
<li><strong>Definition</strong>: The Bray-Curtis dissimilarity index is calculated as: <span class="math display">\[
D_{BC} = \frac{\sum |x_i - y_i|}{\sum (x_i + y_i)}
\]</span> where <span class="math inline">\(x_i\)</span> and <span class="math inline">\(y_i\)</span> are the counts or abundances of species <span class="math inline">\(i\)</span> in samples <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>, respectively.</li>
<li><strong>Properties</strong>: Ranges from 0 (identical communities) to 1 (completely different communities). It is sensitive to the abundance of species and is unaffected by joint absences.</li>
<li><strong>Ecological Use</strong>: Used for species abundance data. Commonly used to compare the composition of different communities, track changes in community structure over time, and assess the impact of environmental gradients on community composition.</li>
<li><strong>Limitations:</strong> It is sensitive to outliers, so the index can be influenced by extreme values or rare species with high abundances. It assumes a linear relationship between species abundances and dissimilarity, which may not always hold in ecological communities.</li>
</ul>
</section>
<section id="sørensen-dice-dissimilarity" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="sørensen-dice-dissimilarity"><span class="header-section-number">2</span> Sørensen (Dice) Dissimilarity</h2>
<ul>
<li><strong>Definition</strong>: The Sørensen dissimilarity is given by: <span class="math display">\[
D_S = 1 - \frac{2C}{A + B}
\]</span> where <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are the total counts of species in samples <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>, respectively, and <span class="math inline">\(C\)</span> is the sum of the minimum counts of shared species.</li>
<li><strong>Properties</strong>: Similar to Bray-Curtis but puts more emphasis on the presence of shared species. It ranges from 0 (identical species composition) to 1 (no shared species).</li>
<li><strong>Ecological Use</strong>: Focus on presence-absence data. Used to compare the similarity of species composition between two communities. The Sørensen dissimilarity index is fundamentally rooted in the concept of beta diversity, which quantifies the difference in species composition between two or more communities.</li>
<li><strong>Limitations:</strong> The index does not account for the relative abundance of species: two communities with very different species abundances but similar species richness could have the same Sørensen dissimilarity. The presence or absence of rare species can disproportionately influence the Sørensen dissimilarity.</li>
</ul>
</section>
<section id="jaccard-index" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="jaccard-index"><span class="header-section-number">3</span> Jaccard Index</h2>
<ul>
<li><strong>Definition</strong>: The Jaccard index is defined as: <span class="math display">\[
D_J = 1 - \frac{C}{A + B - C}
\]</span> where <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are the total counts of species in samples <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>, and <span class="math inline">\(C\)</span> is the count of shared species.</li>
<li><strong>Properties</strong>: Ranges from 0 (complete similarity) to 1 (complete dissimilarity). It only considers the presence or absence of species, not their abundance.</li>
<li><strong>Ecological Use</strong>: Often used for presence-absence data to compare species diversity and composition between sites.</li>
<li><strong>Limitations:</strong> The index does not account for the relative abundance of species: two communities with very different species abundances but similar species richness could have the same Jaccard dissimilarity. The Jaccard index can be biased by differences in sampling effort between sites. It is sensitive to the presence of rare species.</li>
</ul>
</section>
<section id="hellinger-distance" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="hellinger-distance"><span class="header-section-number">4</span> Hellinger Distance</h2>
<ul>
<li><strong>Definition</strong>: Hellinger distance is calculated using the Hellinger transformation: <span class="math display">\[
h_{ij} = \sqrt{x_{ij} / \sum x_{i.}}
\]</span> where <span class="math inline">\(x_{ij}\)</span> is the abundance of species <span class="math inline">\(j\)</span> in sample <span class="math inline">\(i\)</span>. The distance is then the Euclidean distance between these transformed values.</li>
<li><strong>Properties</strong>: The Hellinger distance is a measure of dissimilarity between two probability distributions. These probability distributions often represent the relative abundances of species in different communities. Unlike the Jaccard and Sørensen indices, which focus on presence/absence, the Hellinger distance accounts for both the presence/absence and the abundance of species. It ranges from 0 to 1. It reduces the influence of dominant species and is suited for relative abundance data.</li>
<li><strong>Ecological Use</strong>: Used for ordination and clustering of community data to minimise the effect of large differences in species abundances. It reduces the influence of highly abundant species, making it less sensitive to outliers than some other dissimilarity measures. It can handle situations where a species is absent from one community but present in another, avoiding the “double zero” problem encountered by some other metrics.</li>
<li><strong>Limitations:</strong> Can be less intuitive to interpret than measures like Bray-Curtis, which directly relate to differences in abundances.</li>
</ul>
</section>
<section id="gower-distance" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="gower-distance"><span class="header-section-number">5</span> Gower Distance</h2>
<ul>
<li><strong>Definition</strong>: The Gower distance is a general similarity coefficient that can handle different types of variables (quantitative, binary, categorical). It is calculated as: <span class="math display">\[
D_G = \frac{\sum w_i d_i}{\sum w_i}
\]</span> where <span class="math inline">\(d_i\)</span> is the distance between samples <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> for variable <span class="math inline">\(i\)</span>, and <span class="math inline">\(w_i\)</span> is the weight associated with variable <span class="math inline">\(i\)</span>.</li>
<li><strong>Properties</strong>: Ranges from 0 to 1. It can incorporate various types of ecological data, making it very flexible. The specific calculation of <span class="math inline">\(d_i\)</span> depends on the data type of variable <span class="math inline">\(i\)</span>: for quantitative data, it typically uses the Manhattan distance (absolute difference) after range normalisation; for categorical data it usually uses the Dice coefficient (proportion of mismatches); and for ordinal data, Manhattan distance on ranked values with adjustments for ties is used.</li>
<li><strong>Ecological Use</strong>: Suitable for mixed data types, such as ecological surveys combining species counts, presence-absence data, and environmental variables.</li>
<li><strong>Limitations:</strong> The composite nature of the Gower distance can make the interpretation of the resulting dissimilarity values less straightforward than for simpler metrics like Euclidean distance. The choice of weights and distance measures for different variable types can affect the results.</li>
</ul>
</section>
<section id="euclidean-distance" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="euclidean-distance"><span class="header-section-number">6</span> Euclidean Distance</h2>
<ul>
<li><strong>Definition</strong>: The Euclidean distance between two samples is the straight-line distance in multivariate space: <span class="math display">\[
D_E = \sqrt{\sum (x_i - y_i)^2}
\]</span> where <span class="math inline">\(x_i\)</span> and <span class="math inline">\(y_i\)</span> are the values of variable <span class="math inline">\(i\)</span> in samples <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>, respectively.</li>
<li><strong>Properties</strong>: Sensitive to differences in scale and magnitude of data. Often used as a baseline comparison.</li>
<li><strong>Ecological Use</strong>: Useful for quantitative data where differences in magnitude are important. Not commonly used for species abundance data due to sensitivity to large values.</li>
</ul>
</section>
<section id="manhattan-distance" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="manhattan-distance"><span class="header-section-number">7</span> Manhattan Distance</h2>
<ul>
<li><strong>Definition</strong>: The Manhattan distance (or city block distance) is: <span class="math display">\[
D_M = \sum |x_i - y_i|
\]</span> where <span class="math inline">\(x_i\)</span> and <span class="math inline">\(y_i\)</span> are the values of variable <span class="math inline">\(i\)</span> in samples <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>, respectively.</li>
<li><strong>Properties</strong>: The Manhattan distance is also known as city block distance or L1 distance. It is a geometric measure of distance between two points in a multidimensional space. Unlike the Euclidean distance, which measures the straight-line distance, the Manhattan distance calculates the distance along the axes of the coordinate system. In multivariate community data, each dimension often represents a different species, and the coordinates of a point represent the abundances of those species in a particular community or sample. The Manhattan distance between two points then reflects the total difference in species abundances between those communities. Less sensitive to outliers compared to Euclidean distance. Values are always non-negative and is zero only if the two points are identical. Larger values indicate greater dissimilarity between the communities.</li>
<li><strong>Ecological Use</strong>: Used for quantitative ecological data, especially when dealing with high-dimensional datasets where large outliers can skew results.</li>
<li><strong>Limitations:</strong> It treats each variable (species) independently and doesn’t account for potential correlations between them. It can be sensitive to differences in scale between variables.</li>
</ul>
</section>
<section id="canberra-distance" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="canberra-distance"><span class="header-section-number">8</span> Canberra Distance</h2>
<ul>
<li><strong>Definition</strong>: The Canberra distance is calculated as: <span class="math display">\[
D_C = \sum \frac{|x_i - y_i|}{|x_i| + |y_i|}
\]</span></li>
<li><strong>Properties</strong>: The Canberra distance is a numerical measure of the dissimilarity between two sets of data points. These data points often represent the abundances of different species in two communities or samples. The Canberra distance is calculated by summing the weighted absolute differences between the values of each variable (species) in the two sets. The weights are the inverse of the sum of the absolute values of the variables, which means that variables with larger values have less influence on the distance. Sensitive to differences in small values and zeroes, but unaffected by differences in the scales of variables. The Canberra distance is always non-negative and is zero only if the two points are identical. Larger values indicate greater dissimilarity between the communities.</li>
<li><strong>Ecological Use</strong>: Suitable for ecological data where small differences are important, such as in studies of rare species or trace element concentrations.</li>
<li><strong>Limitations:</strong> The Canberra distance can be sensitive to small differences in variables with very low values, which may not be biologically meaningful. It can also be affected by the presence of zeros in the data.</li>
</ul>


<!-- -->

</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{smit2024,
  author = {Smit, AJ},
  title = {Distance and {Dissimilarities} {Metrics}},
  date = {2024-06-24},
  url = {https://tangledbank.netlify.app/BCB743/dis-metrics.html},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-smit2024" class="csl-entry quarto-appendix-citeas" role="listitem">
Smit A (2024) Distance and Dissimilarities Metrics. <a href="https://tangledbank.netlify.app/BCB743/dis-metrics.html">https://tangledbank.netlify.app/BCB743/dis-metrics.html.
</a>
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/tangledbank\.netlify\.app");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="an">date:</span><span class="co"> "2024-06-24"</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="an">title:</span><span class="co"> "Distance and Dissimilarities Metrics"</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">---</span></span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a>**vegan** provides a variety of distance and dissimilarity measures through the <span class="in">`vegdist()`</span> function. Here is some background on some commonly used distance and dissimilarity measures that you might find useful.</span>
<span id="cb1-7"><a href="#cb1-7"></a></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">## Bray-Curtis Dissimilarity</span></span>
<span id="cb1-9"><a href="#cb1-9"></a></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="ss">- </span>**Definition**: The Bray-Curtis dissimilarity index is calculated as:</span>
<span id="cb1-11"><a href="#cb1-11"></a>  $$</span>
<span id="cb1-12"><a href="#cb1-12"></a>  D_{BC} = \frac{\sum |x_i - y_i|}{\sum (x_i + y_i)}</span>
<span id="cb1-13"><a href="#cb1-13"></a>  $$</span>
<span id="cb1-14"><a href="#cb1-14"></a>  where $x_i$ and $y_i$ are the counts or abundances of species $i$ in samples $x$ and $y$, respectively.</span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="ss">- </span>**Properties**: Ranges from 0 (identical communities) to 1 (completely different communities). It is sensitive to the abundance of species and is unaffected by joint absences.</span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="ss">- </span>**Ecological Use**: Used for species abundance data. Commonly used to compare the composition of different communities, track changes in community structure over time, and assess the impact of environmental gradients on community composition.</span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="ss">- </span>**Limitations:** It is sensitive to outliers, so the index can be influenced by extreme values or rare species with high abundances. It assumes a linear relationship between species abundances and dissimilarity, which may not always hold in ecological communities.</span>
<span id="cb1-18"><a href="#cb1-18"></a></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="fu">## Sørensen (Dice) Dissimilarity</span></span>
<span id="cb1-20"><a href="#cb1-20"></a></span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="ss">- </span>**Definition**: The Sørensen dissimilarity is given by:</span>
<span id="cb1-22"><a href="#cb1-22"></a>  $$</span>
<span id="cb1-23"><a href="#cb1-23"></a>  D_S = 1 - \frac{2C}{A + B}</span>
<span id="cb1-24"><a href="#cb1-24"></a>  $$</span>
<span id="cb1-25"><a href="#cb1-25"></a>  where $A$ and $B$ are the total counts of species in samples $x$ and $y$, respectively, and $C$ is the sum of the minimum counts of shared species.</span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="ss">- </span>**Properties**: Similar to Bray-Curtis but puts more emphasis on the presence of shared species. It ranges from 0 (identical species composition) to 1 (no shared species).</span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="ss">- </span>**Ecological Use**: Focus on presence-absence data. Used to compare the similarity of species composition between two communities. The Sørensen dissimilarity index is fundamentally rooted in the concept of beta diversity, which quantifies the difference in species composition between two or more communities. </span>
<span id="cb1-28"><a href="#cb1-28"></a><span class="ss">- </span>**Limitations:** The index does not account for the relative abundance of species: two communities with very different species abundances but similar species richness could have the same Sørensen dissimilarity. The presence or absence of rare species can disproportionately influence the Sørensen dissimilarity. </span>
<span id="cb1-29"><a href="#cb1-29"></a></span>
<span id="cb1-30"><a href="#cb1-30"></a><span class="fu">## Jaccard Index</span></span>
<span id="cb1-31"><a href="#cb1-31"></a></span>
<span id="cb1-32"><a href="#cb1-32"></a><span class="ss">- </span>**Definition**: The Jaccard index is defined as:</span>
<span id="cb1-33"><a href="#cb1-33"></a>  $$</span>
<span id="cb1-34"><a href="#cb1-34"></a>  D_J = 1 - \frac{C}{A + B - C}</span>
<span id="cb1-35"><a href="#cb1-35"></a>  $$</span>
<span id="cb1-36"><a href="#cb1-36"></a>  where $A$ and $B$ are the total counts of species in samples $x$ and $y$, and $C$ is the count of shared species.</span>
<span id="cb1-37"><a href="#cb1-37"></a><span class="ss">- </span>**Properties**: Ranges from 0 (complete similarity) to 1 (complete dissimilarity). It only considers the presence or absence of species, not their abundance.</span>
<span id="cb1-38"><a href="#cb1-38"></a><span class="ss">- </span>**Ecological Use**: Often used for presence-absence data to compare species diversity and composition between sites.</span>
<span id="cb1-39"><a href="#cb1-39"></a><span class="ss">- </span>**Limitations:** The index does not account for the relative abundance of species: two communities with very different species abundances but similar species richness could have the same Jaccard dissimilarity. The Jaccard index can be biased by differences in sampling effort between sites. It is sensitive to the presence of rare species.</span>
<span id="cb1-40"><a href="#cb1-40"></a></span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="fu">## Hellinger Distance</span></span>
<span id="cb1-42"><a href="#cb1-42"></a></span>
<span id="cb1-43"><a href="#cb1-43"></a><span class="ss">- </span>**Definition**: Hellinger distance is calculated using the Hellinger transformation:</span>
<span id="cb1-44"><a href="#cb1-44"></a>  $$</span>
<span id="cb1-45"><a href="#cb1-45"></a>  h_{ij} = \sqrt{x_{ij} / \sum x_{i.}}</span>
<span id="cb1-46"><a href="#cb1-46"></a>  $$</span>
<span id="cb1-47"><a href="#cb1-47"></a>  where $x_{ij}$ is the abundance of species $j$ in sample $i$. The distance is then the Euclidean distance between these transformed values.</span>
<span id="cb1-48"><a href="#cb1-48"></a><span class="ss">- </span>**Properties**: The Hellinger distance is a measure of dissimilarity between two probability distributions. These probability distributions often represent the relative abundances of species in different communities. Unlike the Jaccard and Sørensen indices, which focus on presence/absence, the Hellinger distance accounts for both the presence/absence and the abundance of species. It ranges from 0 to 1. It reduces the influence of dominant species and is suited for relative abundance data.</span>
<span id="cb1-49"><a href="#cb1-49"></a><span class="ss">- </span>**Ecological Use**: Used for ordination and clustering of community data to minimise the effect of large differences in species abundances. It reduces the influence of highly abundant species, making it less sensitive to outliers than some other dissimilarity measures. It can handle situations where a species is absent from one community but present in another, avoiding the "double zero" problem encountered by some other metrics.</span>
<span id="cb1-50"><a href="#cb1-50"></a><span class="ss">- </span>**Limitations:** Can be less intuitive to interpret than measures like Bray-Curtis, which directly relate to differences in abundances.</span>
<span id="cb1-51"><a href="#cb1-51"></a></span>
<span id="cb1-52"><a href="#cb1-52"></a><span class="fu">## Gower Distance</span></span>
<span id="cb1-53"><a href="#cb1-53"></a></span>
<span id="cb1-54"><a href="#cb1-54"></a><span class="ss">- </span>**Definition**: The Gower distance is a general similarity coefficient that can handle different types of variables (quantitative, binary, categorical). It is calculated as:</span>
<span id="cb1-55"><a href="#cb1-55"></a>  $$</span>
<span id="cb1-56"><a href="#cb1-56"></a>  D_G = \frac{\sum w_i d_i}{\sum w_i}</span>
<span id="cb1-57"><a href="#cb1-57"></a>  $$</span>
<span id="cb1-58"><a href="#cb1-58"></a>  where $d_i$ is the distance between samples $x$ and $y$ for variable $i$, and $w_i$ is the weight associated with variable $i$.</span>
<span id="cb1-59"><a href="#cb1-59"></a><span class="ss">- </span>**Properties**: Ranges from 0 to 1. It can incorporate various types of ecological data, making it very flexible. The specific calculation of $d_i$ depends on the data type of variable $i$: for quantitative data, it typically uses the Manhattan distance (absolute difference) after range normalisation; for categorical data it usually uses the Dice coefficient (proportion of mismatches); and for ordinal data, Manhattan distance on ranked values with adjustments for ties is used.</span>
<span id="cb1-60"><a href="#cb1-60"></a><span class="ss">- </span>**Ecological Use**: Suitable for mixed data types, such as ecological surveys combining species counts, presence-absence data, and environmental variables.</span>
<span id="cb1-61"><a href="#cb1-61"></a><span class="ss">- </span>**Limitations:** The composite nature of the Gower distance can make the interpretation of the resulting dissimilarity values less straightforward than for simpler metrics like Euclidean distance. The choice of weights and distance measures for different variable types can affect the results.</span>
<span id="cb1-62"><a href="#cb1-62"></a></span>
<span id="cb1-63"><a href="#cb1-63"></a><span class="fu">## Euclidean Distance</span></span>
<span id="cb1-64"><a href="#cb1-64"></a></span>
<span id="cb1-65"><a href="#cb1-65"></a><span class="ss">- </span>**Definition**: The Euclidean distance between two samples is the straight-line distance in multivariate space:</span>
<span id="cb1-66"><a href="#cb1-66"></a>  $$</span>
<span id="cb1-67"><a href="#cb1-67"></a>  D_E = \sqrt{\sum (x_i - y_i)^2}</span>
<span id="cb1-68"><a href="#cb1-68"></a>  $$</span>
<span id="cb1-69"><a href="#cb1-69"></a>  where $x_i$ and $y_i$ are the values of variable $i$ in samples $x$ and $y$, respectively.</span>
<span id="cb1-70"><a href="#cb1-70"></a><span class="ss">- </span>**Properties**: Sensitive to differences in scale and magnitude of data. Often used as a baseline comparison.</span>
<span id="cb1-71"><a href="#cb1-71"></a><span class="ss">- </span>**Ecological Use**: Useful for quantitative data where differences in magnitude are important. Not commonly used for species abundance data due to sensitivity to large values.</span>
<span id="cb1-72"><a href="#cb1-72"></a></span>
<span id="cb1-73"><a href="#cb1-73"></a><span class="fu">## Manhattan Distance</span></span>
<span id="cb1-74"><a href="#cb1-74"></a></span>
<span id="cb1-75"><a href="#cb1-75"></a><span class="ss">- </span>**Definition**: The Manhattan distance (or city block distance) is:</span>
<span id="cb1-76"><a href="#cb1-76"></a>  $$</span>
<span id="cb1-77"><a href="#cb1-77"></a>  D_M = \sum |x_i - y_i|</span>
<span id="cb1-78"><a href="#cb1-78"></a>  $$</span>
<span id="cb1-79"><a href="#cb1-79"></a>  where $x_i$ and $y_i$ are the values of variable $i$ in samples $x$ and $y$, respectively.</span>
<span id="cb1-80"><a href="#cb1-80"></a><span class="ss">- </span>**Properties**: The Manhattan distance is also known as city block distance or L1 distance. It is a geometric measure of distance between two points in a multidimensional space. Unlike the Euclidean distance, which measures the straight-line distance, the Manhattan distance calculates the distance along the axes of the coordinate system. In multivariate community data, each dimension often represents a different species, and the coordinates of a point represent the abundances of those species in a particular community or sample. The Manhattan distance between two points then reflects the total difference in species abundances between those communities. Less sensitive to outliers compared to Euclidean distance. Values are always non-negative and is zero only if the two points are identical. Larger values indicate greater dissimilarity between the communities.</span>
<span id="cb1-81"><a href="#cb1-81"></a><span class="ss">- </span>**Ecological Use**: Used for quantitative ecological data, especially when dealing with high-dimensional datasets where large outliers can skew results.</span>
<span id="cb1-82"><a href="#cb1-82"></a><span class="ss">- </span>**Limitations:** It treats each variable (species) independently and doesn't account for potential correlations between them. It can be sensitive to differences in scale between variables.</span>
<span id="cb1-83"><a href="#cb1-83"></a></span>
<span id="cb1-84"><a href="#cb1-84"></a><span class="fu">## Canberra Distance</span></span>
<span id="cb1-85"><a href="#cb1-85"></a></span>
<span id="cb1-86"><a href="#cb1-86"></a><span class="ss">- </span>**Definition**: The Canberra distance is calculated as:</span>
<span id="cb1-87"><a href="#cb1-87"></a>  $$</span>
<span id="cb1-88"><a href="#cb1-88"></a>  D_C = \sum \frac{|x_i - y_i|}{|x_i| + |y_i|}</span>
<span id="cb1-89"><a href="#cb1-89"></a>  $$</span>
<span id="cb1-90"><a href="#cb1-90"></a><span class="ss">- </span>**Properties**: The Canberra distance is a numerical measure of the dissimilarity between two sets of data points. These data points often represent the abundances of different species in two communities or samples. The Canberra distance is calculated by summing the weighted absolute differences between the values of each variable (species) in the two sets. The weights are the inverse of the sum of the absolute values of the variables, which means that variables with larger values have less influence on the distance. Sensitive to differences in small values and zeroes, but unaffected by differences in the scales of variables. The Canberra distance is always non-negative and is zero only if the two points are identical. Larger values indicate greater dissimilarity between the communities.</span>
<span id="cb1-91"><a href="#cb1-91"></a><span class="ss">- </span>**Ecological Use**: Suitable for ecological data where small differences are important, such as in studies of rare species or trace element concentrations.</span>
<span id="cb1-92"><a href="#cb1-92"></a><span class="ss">- </span>**Limitations:** The Canberra distance can be sensitive to small differences in variables with very low values, which may not be biologically meaningful. It can also be affected by the presence of zeros in the data.</span></code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2024, AJ Smit</p>
</div>   
    <div class="nav-footer-center">

<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/ajsmit/tangled_bank/edit/main/BCB743/dis-metrics.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ajsmit/tangled_bank/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
<p>This page is built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>