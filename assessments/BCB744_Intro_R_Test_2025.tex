% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  10t,
]{article}

\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else  
    % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
% Make \paragraph and \subparagraph free-standing
\makeatletter
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}{
    \@ifstar
      \xxxParagraphStar
      \xxxParagraphNoStar
  }
  \newcommand{\xxxParagraphStar}[1]{\oldparagraph*{#1}\mbox{}}
  \newcommand{\xxxParagraphNoStar}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}{
    \@ifstar
      \xxxSubParagraphStar
      \xxxSubParagraphNoStar
  }
  \newcommand{\xxxSubParagraphStar}[1]{\oldsubparagraph*{#1}\mbox{}}
  \newcommand{\xxxSubParagraphNoStar}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\makeatother

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\newsavebox\pandoc@box
\newcommand*\pandocbounded[1]{% scales image to fit in text height/width
  \sbox\pandoc@box{#1}%
  \Gscale@div\@tempa{\textheight}{\dimexpr\ht\pandoc@box+\dp\pandoc@box\relax}%
  \Gscale@div\@tempb{\linewidth}{\wd\pandoc@box}%
  \ifdim\@tempb\p@<\@tempa\p@\let\@tempa\@tempb\fi% select the smaller of both
  \ifdim\@tempa\p@<\p@\scalebox{\@tempa}{\usebox\pandoc@box}%
  \else\usebox{\pandoc@box}%
  \fi%
}
% Set default figure placement to htbp
\def\fps@figure{htbp}
\makeatother

% preamble.tex

% --- Document Structure and Layout ---

\usepackage[a4paper, total={6in, 8in}]{geometry}

% --- Paragraph Settings ---

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

% --- Fonts and Encoding ---

\usepackage{fontspec}         % Allows font specification
% \usepackage{amsmath}          % For math symbols

%% Main Font
\setmainfont[
  Renderer=Basic, % Recommended for plain text
  UprightFont = MinionPro-Regular,
  ItalicFont = MinionPro-It,
  ItalicFeatures = { SmallCapsFont = MinionPro-It },
  SlantedFont = MinionPro-Regular,
  SlantedFeatures= { FakeSlant=0.2 },
  BoldFont = MinionPro-Bold,
  BoldFeatures = { SmallCapsFont = MinionPro-Bold },
  BoldItalicFont = MinionPro-BoldIt,
  BoldItalicFeatures = { SmallCapsFont = MinionPro-BoldIt },
  BoldSlantedFont= MinionPro-Bold,
  BoldSlantedFeatures= { FakeSlant=0.2, SmallCapsFont = MinionPro-Bold },
  SmallCapsFont = MinionPro-Regular,
  SmallCapsFeatures={ RawFeature=+smcp },
  Ligatures=TeX,
  Numbers={OldStyle, Proportional}
]{MinionPro-Regular}

%% Math Font
\setmathfont{MinionPro-Regular.otf}

%% Monospace Font
\setmonofont[
  Scale=0.89
]{FiraCode Nerd Font}
% Define a command to apply the small font size to all monospaced content
\renewcommand{\ttfamily}{\small\fontspec{FiraCode Nerd Font}} % Use \small consistently

% --- Packages for Tables ---

\usepackage{array}            % For table column width specification
\usepackage{booktabs}         % For table rules
\usepackage{ragged2e}         % For text alignment (used with \newcolumntype)

% --- Headers and Footers ---

\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\sectionmark}[1]{\markright{#1}{}}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO]{\textsc{\MakeLowercase{\leftmark}}}
\fancyhead[RE]{\textsc{\MakeLowercase{\rightmark}}}

% --- Other Packages ---

\usepackage[version=4]{mhchem}% Formula subscripts using \ce{}

% --- Color Definitions ---

\usepackage[x11names]{xcolor} % Required for specifying custom colors, load before tcolorbox
\definecolor{headingblue}{RGB}{23,48,191}
\definecolor{boxtitle}{HTML}{F0F4F8}
\definecolor{boxbody}{HTML}{FBFDFF}
\definecolor{mainboxframe}{HTML}{F0F4F8}
\definecolor{subboxframe}{HTML}{F0F4F8}
\definecolor{crimson}{HTML}{880000}

% --- Key Terms

\newcommand{\keyterm}[1]{\textsc{#1}}

%% Create a command for color emphasis
\newcommand{\highlight}[1]{\textcolor{crimson}{#1}}

% --- Boxes ---

% Define the mdframed environment
\usepackage{float}
\usepackage{mdframed}

% 1) Define a new float environment called "boxfloat"
\newfloat{boxfloat}{htbp}{lob}
\floatname{boxfloat}{Box}

% 3) Define the environment that wraps mdframed in a float
\newenvironment{boxedfloat}[2][]{%
  % Advance the box counter to produce "Chapter.BoxNo"
  \refstepcounter{boxcounter}%
  % Begin the float environment
  \begin{boxfloat}[htbp]
  % Begin the mdframed styling
  \begin{mdframed}[
    backgroundcolor=gray!5,
    innertopmargin=6pt,
    innerbottommargin=6pt,
    innerrightmargin=6pt,
    innerleftmargin=6pt,
    linewidth=0.25pt,
    linecolor=black,
    roundcorner=8pt,    % or 0pt if you prefer sharp corners
    skipabove=12pt,     % vertical space above the box
    skipbelow=12pt,     % vertical space below the box
    innermargin=0pt,
    outermargin=0pt
  ]%
    % Typeset the box heading: "Box 1.1. My Title"
    \setlength{\parindent}{0em}%
    \setlength{\parskip}{3pt}%
    \RaggedRight
    % Both "Box" and the user-supplied title are in small caps
    \small% switch the box contents to smaller text
    {\scshape Box \theboxcounter. #2}\par
    \vspace{6pt} % a little space after the heading
}{%
    \end{mdframed}
    \end{boxfloat}
}

% --- sansblock Environment ---

\usepackage{sourcesanspro}    % Load Source Sans Pro
\setsansfont{Source Sans Pro} % Set it as the sans-serif font
\newenvironment{sansblock}[1]
    {\small\sffamily\raggedright{\scshape #1}\ } % Ensure small caps for the title
  {} % End environment: no special commands needed

% --- Custom Column Type (using ragged2e) ---

\newcolumntype{R}[1]{>{\RaggedRight}p{#1}}

% ---  Margin Notes ---

\usepackage{marginnote}
\renewcommand*{\marginfont}{\footnotesize\itshape} % Style for margin notes

%% Set margin note outer margin to 0.7in
\setlength{\marginparwidth}{1.25in}

% --- Epigraph ---

\usepackage{epigraph}
\setlength\epigraphwidth{.9\textwidth}
\newenvironment{quotepara}
  {\itshape\raggedright\small\setlength{\parskip}{0.5em}} % Add small space between paragraphs
  {}
\renewcommand{\textflush}{quotepara}

%% Define a new epigraph environment without the horizontal rule and source/author
\newenvironment{simpleepigraph}
  {\begin{list}{}%
      {\setlength{\leftmargin}{2em}% Left margin
       \setlength{\rightmargin}{2em}% Right margin
       \setlength{\topsep}{1em}% Space above the epigraph
       \setlength{\itemsep}{0pt}% Space between items (irrelevant here)
       \setlength{\parsep}{0pt}}% Space between paragraphs
   \item\relax\raggedright\small} % Apply ragged-right and italic style for the epigraph text
  {\end{list}}

% --- Small Caps ---

\newcommand{\flatcaps}[1]{\textsc{\MakeLowercase{#1}}}

% --- Lists ---

%% General settings for all lists
\usepackage{enumitem}

% Global settings following Bringhurst's principles
% A global default to keep lists tight, but still allow subtle spacing:
\setlist{
  nosep,         % No extra space between items
  topsep=0.6em,  % A bit of space before/after the list
  parsep=0pt,
  partopsep=0pt
}

% First-level itemize (unordered) lists:
\setlist[itemize,1]{
  label=\textbullet,
  labelsep=0.4em,        % Space from bullet to text
  labelwidth=1em,        % Horizontal space set aside for bullet
  leftmargin=\dimexpr 1em + 0.4em\relax,
  itemindent=0pt,
  listparindent=0pt,
  align=left
}

% Second-level itemize, with a subtler symbol:
\setlist[itemize,2]{
  label=--,
  labelsep=0.4em,
  labelwidth=1em,
  leftmargin=\dimexpr 1em + 0.4em\relax,
  itemindent=0pt,
  listparindent=0pt,
  align=left
}

% First-level enumerate (ordered) lists:
\setlist[enumerate,1]{
  label=\arabic*.,
  labelsep=0.4em,
  labelwidth=1em,
  leftmargin=\dimexpr 1em + 0.4em\relax,
  itemindent=0pt,
  listparindent=0pt,
  align=left
}

% Second-level enumerate (letters, or you could do roman numerals):
\setlist[enumerate,2]{
  label=\alph*.,
  labelsep=0.4em,
  labelwidth=1em,
  leftmargin=\dimexpr 1em + 0.4em\relax,
  itemindent=0pt,
  listparindent=0pt,
  align=left
}

% --- Custom Chapter/Section Styles ---

\usepackage[compact]{titlesec} % Allows creating custom chapter styles
\titleformat{\chapter}[display]
  {\fontsize{60}{62}\bfseries}
  {\thechapter}
  {0pt}
  {\huge\noindent}
\titlespacing*{\chapter}{0pt}{0pt}{40pt}

\titleformat{\section}
  {\normalsize\normalfont}
  {\thesection}
  {0.6em}
  {\flatcaps}
\titlespacing*{\section}{0pt}{1\baselineskip}{1\baselineskip}

\titleformat{\subsection}[block]
  {\normalsize\normalfont} % defines the font size and style for the entire subsection heading, including both the number and the title
  {\thesubsection} % defines the format of the subsection number
  {1em} % the horizontal space between the subsection number and the title
  {\itshape} % defines the format of the subsection title itself
\titlespacing*{\subsection}{0pt}{1\baselineskip}{1\baselineskip}

\titleformat{\subsubsection}[runin]
  {\normalsize\normalfont} % defines the font size and style for the entire subsection heading, including both the number and the title
  {\thesubsubsection} % defines the format of the subsection number
  {1em} % the horizontal space between the subsection number and the title
  {\itshape}[.] % defines the format of the subsection title itself
\titlespacing*{\subsubsection}{0pt}{1\baselineskip}{1\baselineskip}

\titleformat{\paragraph}[runin]
  {\flatcaps}
  {\theparagraph}
  {0pt}
  {}

% --- Footnotes ---

\usepackage[norule,ragged,hang]{footmisc}  % Load footmisc with ragged option
\renewcommand{\footnotelayout}{\RaggedRight\footnotesize} % Typeset footnotes in \RaggedRight
\setlength{\footnotemargin}{1.5em}    % Adjust space between number and text
\makeatletter
\renewcommand{\@makefntext}[1]{%
    \parindent 1em%                    Set parindent for footnote text
    \noindent
    \hb@xt@ 1.8em{%                   Set hanging indent for footnote text
        \hss\@thefnmark.%
    }
    \RaggedRight #1%                 Typeset footnote text ragged right
}
\makeatother

% --- Captions ---

\usepackage{caption}
\captionsetup{
  font={small},
  labelfont={bf},
  textfont={},
  width=0.9\textwidth,
  justification=justified,
  labelformat=default,
  labelsep=period,
  format=plain
}
\renewcommand{\captionlabelfont}{\bfseries\scshape}

% --- Hyperlinks ---

\usepackage{hyperref}           % Load after most other packages, but before cleveref
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
    pdftitle={Overleaf Example},
    pdfpagemode=FullScreen,
    }

\urlstyle{same}

% --- Miscellaneous ---

%% Define a new command to print the current page number to the console
\ifluatex
  \usepackage{luacode}
  \usepackage{shellesc}
  \newcommand{\printpagenumber}{%
    \directlua{
      local pagenumber = tex.count.page
      print(string.format("Currently processing page: %d", pagenumber))
    }
  }
\fi

\usepackage{etoolbox}          % General package for patching commands
\usepackage{iftex}             % Detects the engine used
\usepackage{ellipsis}          % Fixes spacing around ellipses
\AddToHook{env/Highlighting/begin}{\small} % Set the code chunk font size globally

%% Use lining fonts
\newcommand\lining{\addfontfeatures{Numbers={Monospaced, Lining}}}
\AtBeginEnvironment{tabular}{\lining} % In tables
\renewcommand{\theequation}{ {\lining\arabic{equation}}} % For equation numbers

% --- Index (if needed) ---

\usepackage{makeidx}
\makeindex

% --- Other Typography Settings ---

\frenchspacing                % Single space after periods
\tolerance=400                % Default is 200; higher values allow more relaxed line-breaking.
\emergencystretch=3em         % Adds additional space to help line-breaking.
\hyphenpenalty=20             % Default is 50; lower values encourage hyphenation.

% --- Microtype Settings (adjust only if needed) ---

\usepackage{microtype}        % Improves typography
\microtypesetup{
   tracking = true,
   protrusion=true,
   expansion=true,
   factor = 1100,
   stretch = 15,
   shrink = 15
}

\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\makeatletter
\@ifpackageloaded{sidenotes}{}{\usepackage{sidenotes}}
\@ifpackageloaded{marginnote}{}{\usepackage{marginnote}}
\makeatother

\usepackage{bookmark}

\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={BCB744: Intro R Test},
  pdfauthor={Smit, A. J.},
  colorlinks=true,
  linkcolor={blue},
  filecolor={blue},
  citecolor={blue},
  urlcolor={blue},
  pdfcreator={LaTeX via pandoc}}


\title{BCB744: Intro R Test}
\author{Smit, A. J.}
\date{2025-03-17}

\begin{document}
\maketitle


\section{About the test}\label{about-the-test}

The Intro R Test will starts at 8:30 on 17 March, 2025 and you have
until 08:00 on 18 March to complete it. The Theory Test must be
conducted on campus, and the Practical Test at home or anywhere you are
comfortable working. The test constitutes a key component of Continuous
Assessment (CA) and are designed to prepare you for the final exam.

The test consists of two parts:

\subsection{Theory Test (30\%)}\label{theory-test-30}

This is a written, closed-book assessment where you will be tested on
theoretical concepts. The only resource available during this test is
the R help system and your memory and mind.

\subsection{Practical Test (70\%)}\label{practical-test-70}

In this open-book coding assessment, you will apply your theoretical
knowledge to real data problems. While you may reference online
materials (including ChatGPT), collaboration with peers is strictly
prohibited.

\section{Assessment Policy}\label{assessment-policy}

Please refer to the
\href{https://tangledbank.netlify.app/BCB744/BCB744_index.html\#sec-policy}{Assessment
Policy} for more information on the test format and rules.

\section{Theory Test}\label{theory-test}

Below is a set of questions to answer. You must answer all questions in
the allocated time of 3-hr. Please write your answers in a neatly
formatted Word document and submit it to the iKamva platform.

Clearly indicate the question number and provide detailed explanations
for your answers. Use Word's headings and subheadings facility to
structure your document logically.

Naming convention: \texttt{Intro\_R\_Test\_Theory\_YourSurname.docx}

\subsection{Question 1}\label{question-1}

You are a research assistant who have just been given your first job.
You are asked to analyse a dataset about patterns of extreme heat in the
ocean and the possible role that ocean currents (specifically, eddies)
might play in modulating the patterns of extreme sea surface temperature
in space and time.

Being naive and relatively inexperienced, and misguided by your
exaggerated sense of preparedness as young people tend to do, you gladly
accept the task and start by exploring the data. You notice that the
dataset is quite large, and you have no idea what's happening, what you
are doing, why you are doing it, or what you are looking for. Ten
minutes into the job you start to question your life choices. Your
feeling of bewilderment is compounded by the fact that, when you examine
the data (the output of the \texttt{head()} and \texttt{tail()} commands
is shown below), the entries seem confusing.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fpath }\OtherTok{\textless{}{-}} \StringTok{"/Volumes/OceanData/spatial/processed/WBC/misc\_results"}
\NormalTok{fname }\OtherTok{\textless{}{-}} \StringTok{"KC{-}MCA{-}data{-}2013{-}01{-}01{-}2022{-}12{-}31{-}bbox{-}v1\_ma\_14day\_detrended.csv"}
\NormalTok{data }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\FunctionTok{file.path}\NormalTok{(fpath, fname))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\SpecialCharTok{\textgreater{}} \FunctionTok{nrow}\NormalTok{(data)}
\NormalTok{[}\DecValTok{1}\NormalTok{] }\DecValTok{53253434}

\SpecialCharTok{\textgreater{}} \FunctionTok{head}\NormalTok{(data)}
\NormalTok{           t     lon    lat      ex    ke}
\DecValTok{1} \DecValTok{2013{-}01{-}01} \FloatTok{121.875} \FloatTok{34.625} \SpecialCharTok{{-}}\FloatTok{0.7141} \FloatTok{2e{-}04}
\DecValTok{2} \DecValTok{2013{-}01{-}01} \FloatTok{121.875} \FloatTok{34.625} \SpecialCharTok{{-}}\FloatTok{0.8027} \FloatTok{2e{-}04}
\DecValTok{3} \DecValTok{2013{-}01{-}02} \FloatTok{121.875} \FloatTok{34.625} \SpecialCharTok{{-}}\FloatTok{0.8916} \FloatTok{2e{-}04}
\DecValTok{4} \DecValTok{2013{-}01{-}02} \FloatTok{121.875} \FloatTok{34.625} \SpecialCharTok{{-}}\FloatTok{0.9751} \FloatTok{2e{-}04}
\DecValTok{5} \DecValTok{2013{-}01{-}03} \FloatTok{121.875} \FloatTok{34.625} \SpecialCharTok{{-}}\FloatTok{1.0589} \FloatTok{3e{-}04}
\DecValTok{6} \DecValTok{2013{-}01{-}03} \FloatTok{121.875} \FloatTok{34.625} \SpecialCharTok{{-}}\FloatTok{1.1406} \FloatTok{3e{-}04}

\SpecialCharTok{\textgreater{}} \FunctionTok{tail}\NormalTok{(data)}
\NormalTok{                  t     lon    lat     ex      ke}
\DecValTok{53253429} \DecValTok{2022{-}12{-}29} \FloatTok{174.375} \FloatTok{44.875} \FloatTok{0.4742} \SpecialCharTok{{-}}\FloatTok{0.0049}
\DecValTok{53253430} \DecValTok{2022{-}12{-}29} \FloatTok{174.375} \FloatTok{44.875} \FloatTok{0.4856} \SpecialCharTok{{-}}\FloatTok{0.0049}
\DecValTok{53253431} \DecValTok{2022{-}12{-}30} \FloatTok{174.375} \FloatTok{44.875} \FloatTok{0.4969} \SpecialCharTok{{-}}\FloatTok{0.0050}
\DecValTok{53253432} \DecValTok{2022{-}12{-}30} \FloatTok{174.375} \FloatTok{44.875} \FloatTok{0.5169} \SpecialCharTok{{-}}\FloatTok{0.0050}
\DecValTok{53253433} \DecValTok{2022{-}12{-}31} \FloatTok{174.375} \FloatTok{44.875} \FloatTok{0.5367} \SpecialCharTok{{-}}\FloatTok{0.0051}
\DecValTok{53253434} \DecValTok{2022{-}12{-}31} \FloatTok{174.375} \FloatTok{44.875} \FloatTok{0.5465} \SpecialCharTok{{-}}\FloatTok{0.0051}
\end{Highlighting}
\end{Shaded}

You resign yourself to admitting that you don't understand much, but at
the risk of sounding like a fool when you go to your professor, you
decide to do as much of the preparation you can do so that you at least
have something to show for your time.

What are you confused about? What will you take back to your professor
to show that you have prepared yourself as fully as possible? What will
your next steps be going forward?

\textbf{{[}15 marks{]}}

\subsection{Question 2}\label{question-2}

Please translate the following code into English by providing an
explanation for each line:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{monthlyData }\OtherTok{\textless{}{-}}\NormalTok{ dailyData }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{    dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{t =} \FunctionTok{asPOSIXct}\NormalTok{(t)) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{    dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{month =} \FunctionTok{floor\_date}\NormalTok{(t, }\AttributeTok{unit =} \StringTok{"month"}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{    dplyr}\SpecialCharTok{::}\FunctionTok{group\_by}\NormalTok{(lon, lat, month) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{    dplyr}\SpecialCharTok{::}\FunctionTok{summarise}\NormalTok{(}\AttributeTok{temp =} \FunctionTok{mean}\NormalTok{(temp, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{    dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{year =} \FunctionTok{year}\NormalTok{(month)) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{    dplyr}\SpecialCharTok{::}\FunctionTok{group\_by}\NormalTok{(lon, lat) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{    dplyr}\SpecialCharTok{::}\FunctionTok{mutate}\NormalTok{(}\AttributeTok{num =} \FunctionTok{seq}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\FunctionTok{length}\NormalTok{(temp))) }\SpecialCharTok{\%\textgreater{}\%}
\NormalTok{    dplyr}\SpecialCharTok{::}\FunctionTok{ungroup}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\textbf{{[}10 marks{]}}

\subsection{Question 3}\label{question-3}

What is `Occam's Razor'?

\textbf{{[}5 marks{]}}

\subsection{Question 4}\label{question-4}

Explain the difference between R and RStudio.

\textbf{{[}5 marks{]}}

\subsection{Question 5}\label{question-5}

By way of example, please explain some key aspects of R code
conventions. For each line of code, explain also in English what aspects
of the code are being adhered to.

{Hint: In your Word document, use a fixed-width font to indicate the
code as a separate block which is distinct from the rest of the text.}

\textbf{{[}10 marks{]}}

\subsection{Question 6}\label{question-6}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Explain why one typically prefers working with CSV files over Excel
  files in R.
\item
  What are the properties of a CSV file that make it more suitable for
  data analysis in R?
\item
  What are the properties of an Excel file that make it less suitable
  for data analysis in R?
\end{enumerate}

\textbf{{[}15 marks{]}}

\subsection{Question 7}\label{question-7}

Explain each of the following in the context of their use in R. For
each, provide an example of how you would construct them in R:

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  A vector
\item
  A matrix
\item
  A dataframe
\item
  A list
\end{enumerate}

Hint: See my hint under Question 5.

\textbf{{[}20 marks{]}}

\subsection{Question 8}\label{question-8}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Write a 150 to 200 word abstract about your Honours research project.
  In your abstract, draw attention to the types of data you will be
  expected to generate, and mention how these will be used to address
  your research question.
\item
  Explain which of the R data classes will be most useful in your
  research and why.
\end{enumerate}

\textbf{{[}15 marks{]}}

\subsection{Question 9}\label{question-9}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  With reference to the abstract you wrote in Question 8, explain how
  you would visualise (or display your finding in tabular format) your
  research findings. Provide an example of how you would do this in R.
  Which of your research questions would be best answered using a
  visualisations or tables? What do you expect your visualisations or
  tables to show?
\item
  Provide an example of how you would create a plot or table in R.
  Generate mock code (it does not need to run) that you would use to
  create the plot or table.
\end{enumerate}

Note: In the unlikely event that your research will not require
visualisations or tables, please explain why this is the case and how
you would communicate your findings.

\textbf{{[}15 marks{]}}

\textbf{TOTAL MARKS: 110}

\section{Practical Test}\label{practical-test}

Below is a set of coding problems to solve. You must complete the test
within the allocated time, which runs out at 08:00 tomorrow morning.
Please write your code in an R script file and submit it to the iKamva
platform.

Please follow a clear structure (appropriate, clearly numbered headings
and subheadings) in your code, including comments and explanations.

Naming convention: \texttt{Intro\_R\_Test\_Practical\_YourSurname.R}

\subsection{Question 1}\label{question-1-1}

The
\href{https://raw.githubusercontent.com/ajsmit/R_courses/main/static/data/fertiliser_crop_data.csv}{\texttt{fertiliser\_crop\_data.csv}}
data

The data represent an experiment designed to test whether or not
fertiliser type and the density of planting have an effect on the yield
of wheat. The dataset contains the following variables:

\begin{itemize}
\tightlist
\item
  Final yield (kg per acre) -- make sure to convert this to the most
  suitable SI unit before continuing with your analysis
\item
  Type of fertiliser (fertiliser type A, B, or C)
\item
  Planting density (1 = low density, 2 = high density)
\item
  Block in the field (north, east, south, west)
\end{itemize}

Undertake a full visual assessment of the dataset and establish which of
the influential variables are most likely to have an effect on crop
yield.

\subsection{Question 2}\label{question-2-1}

The Bullfrog Occupancy and Common Reed Invasion data are here:
\texttt{AICcmodavg::bullfrog}.

Create a tidy dataframe from the bullfrog data.

\subsection{Question 3}\label{question-3-1}

The Growth Curves for Sitka Spruce Trees in 1988 and 1989 data are here:
\texttt{MASS::Sitka} and \texttt{MASS::Sitka89}.

Provide an analysis of the growth curves for Sitka spruce trees in 1988
and 1989. Give graphical support for the idea that i) ozone affects the
growth of Sitka spruce trees, and ii) the growth of Sitka spruce trees
is affected by the year of measurement.

\subsection{Question 4}\label{question-4-1}

The Frog Dehydration Experiment on Three Substrate Types data can be
accessed here: \texttt{AICcmodavg::dry.frog}.

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Provide a 200 word synopsis of the purpose of this study.
\item
  Create new columns in the dataframe showing:
\end{enumerate}

\begin{itemize}
\tightlist
\item
  the final mass;
\item
  the percent mass lost; and
\item
  the percent mass lost as a function of the initial mass of each frog.
\end{itemize}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Provide the R code that would have resulted in the data in the
  variables \texttt{cent\_initial\_mass} and \texttt{cent\_Air}.
\item
  An analysis of the factors responsible for dehydration rates in frogs.
  In your analysis, consider the effects substrate type, initial mass,
  air temperature, and wind.
\item
  Provide a brief discussion of your findings.
\end{enumerate}

\subsection{Question 5}\label{question-5-1}

Consider this script:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(points, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ group, }\AttributeTok{y =}\NormalTok{ count)) }\SpecialCharTok{+}
  \FunctionTok{geom\_boxplot}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{colour =}\NormalTok{ group), }\AttributeTok{size =} \DecValTok{1}\NormalTok{, }\AttributeTok{outlier.colour =} \ConstantTok{NA}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{position =} \FunctionTok{position\_jitter}\NormalTok{(}\AttributeTok{width =} \FloatTok{0.2}\NormalTok{), }\AttributeTok{alpha =} \FloatTok{0.3}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{facet\_grid}\NormalTok{(group }\SpecialCharTok{\textasciitilde{}}\NormalTok{ ., }\AttributeTok{scales =} \StringTok{"free"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{""}\NormalTok{, }\AttributeTok{y =} \StringTok{"Number of data points"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}\AttributeTok{legend.position =} \StringTok{"none"}\NormalTok{,}
    \AttributeTok{strip.background =} \FunctionTok{element\_blank}\NormalTok{(),}
    \AttributeTok{strip.text =} \FunctionTok{element\_blank}\NormalTok{())}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\alph{enumi}.}
\tightlist
\item
  Generate fictitious (random, normal) data that can be plotted using
  the code, above. Make sure to assemble these data into a dataframe
  suitable for plotting, complete with correct column titles.
\item
  Apply the script \emph{exactly as stated} to the data to demonstate
  your understanding of the code and convince the examiner of your
  understanding of the correct data structure.
\end{enumerate}

\subsection{Question 6}\label{question-6-1}

For this assessment, you will analyse the built-in R dataset
\textbf{UKDriverDeaths}, which contains monthly totals of car drivers
killed or seriously injured in road accidents in Great Britain from
January 1969 to December 1984. This time series data allows for
examination of long-term trends, seasonal patterns, and potential
correlations with societal factors.

\subsubsection{Q 6.a -- Data Exploration and Preparation (8
marks)}\label{q-6.a-data-exploration-and-preparation-8-marks}

\begin{enumerate}
\def\labelenumi{\roman{enumi}.}
\tightlist
\item
  Load the \textbf{UKDriverDeaths} dataset and examine its structure.
  Convert the time series data into a standard data frame format with
  separate columns for:
\end{enumerate}

\begin{itemize}
\tightlist
\item
  Year
\item
  Month (both as a number and as a factor with proper names)
\item
  Number of deaths/injuries
\end{itemize}

\begin{enumerate}
\def\labelenumi{\roman{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Create a new variable that classifies each month into seasons (Winter:
  Dec-Feb, Spring: Mar-May, Summer: Jun-Aug, Autumn: Sep-Nov).
\item
  Create another variable identifying whether each observation falls
  during a major energy crisis period (e.g., the oil crises of 1973-1974
  and 1979-1980).
\item
  Identify and handle any potential inconsistencies or issues in the
  dataset that might affect subsequent analyses.
\end{enumerate}

\textbf{{[}15 marks{]}}

\subsubsection{Q 6.b -- Temporal Trend
Analysis}\label{q-6.b-temporal-trend-analysis}

\begin{enumerate}
\def\labelenumi{\roman{enumi}.}
\tightlist
\item
  Create a comprehensive visualization showing the full time series
  with:
\end{enumerate}

\begin{itemize}
\tightlist
\item
  Clear temporal trends
\item
  A smoothed trend line
\item
  Vertical lines or shading indicating major UK policy changes related
  to road safety (e.g., 1983 seat belt law)
\item
  Annotations for key events
\end{itemize}

\begin{enumerate}
\def\labelenumi{\roman{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Develop a visualisation examining monthly fatality averages across the
  entire period, ordered appropriately to show seasonal patterns.
\item
  Create a visualisation that compares annual patterns between the first
  half of the dataset (1969-1976) and the second half (1977-1984).
\item
  Using \emph{tidy} data manipulation techniques, calculate and
  visualise the year-over-year percent change in fatalities for each
  month throughout the dataset.
\end{enumerate}

\textbf{{[}20 marks{]}}

\subsubsection{Q 6.c -- Pattern Analysis and
Decomposition}\label{q-6.c-pattern-analysis-and-decomposition}

Note: Some of this will be new to you. But don't worry, use any means
available to you to solve the problem.

\begin{enumerate}
\def\labelenumi{\roman{enumi}.}
\tightlist
\item
  Calculate and visualise the average number of fatalities by season
  across all years.
\item
  Create a heatmap showing fatalities by month and year, with
  appropriate color scaling to highlight temporal clusters.
\item
  Implement a decomposition of the time series to separate:
\end{enumerate}

\begin{itemize}
\tightlist
\item
  The overall trend
\item
  Seasonal patterns
\item
  Remaining variation
\end{itemize}

\begin{enumerate}
\def\labelenumi{\roman{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  Visualise each component and discuss what factors might contribute to
  the patterns observed.
\end{enumerate}

\textbf{{[}15 marks{]}}

\subsubsection{Q 6.d -- Data
manipulation}\label{q-6.d-data-manipulation}

Starting with the data as presented in the \texttt{UKDriverDeaths}
dataset, create a new dataframe identical to the \textbf{Seatbelts}
dataset.

\textbf{{[}5 marks{]}}




\end{document}
